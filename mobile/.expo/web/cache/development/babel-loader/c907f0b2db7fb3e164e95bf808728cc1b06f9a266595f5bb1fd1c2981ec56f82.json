{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { Text, Card, Button, Title, ActivityIndicator, Divider, Avatar, Chip, Portal, Modal, RadioButton } from 'react-native-paper';\nimport { AuthContext } from \"../../context/AuthContext\";\nimport apiClient from \"../../api/client\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nvar SalonStaffScreen = function SalonStaffScreen(_ref) {\n  var route = _ref.route,\n    navigation = _ref.navigation;\n  var salonId = route.params.salonId;\n  var _useContext = useContext(AuthContext),\n    userInfo = _useContext.userInfo;\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    loading = _useState2[0],\n    setLoading = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    saving = _useState4[0],\n    setSaving = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    salon = _useState6[0],\n    setSalon = _useState6[1];\n  var _useState7 = useState([]),\n    _useState8 = _slicedToArray(_useState7, 2),\n    staff = _useState8[0],\n    setStaff = _useState8[1];\n  var _useState9 = useState([]),\n    _useState10 = _slicedToArray(_useState9, 2),\n    availableUsers = _useState10[0],\n    setAvailableUsers = _useState10[1];\n  var _useState11 = useState(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    modalVisible = _useState12[0],\n    setModalVisible = _useState12[1];\n  var _useState13 = useState(null),\n    _useState14 = _slicedToArray(_useState13, 2),\n    selectedUser = _useState14[0],\n    setSelectedUser = _useState14[1];\n  useEffect(function () {\n    fetchSalonWithStaff();\n  }, [salonId]);\n  var fetchSalonWithStaff = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      try {\n        setLoading(true);\n        var response = yield apiClient.get(\"/admin/salons/\" + salonId, {\n          headers: {\n            Authorization: \"Bearer \" + userInfo.token\n          }\n        });\n        if (response.data && response.data.success) {\n          var salonData = response.data.salon;\n          setSalon(salonData);\n          if (salonData.staff && salonData.staff.length > 0) {\n            var staffIds = Array.isArray(salonData.staff) ? salonData.staff.map(function (s) {\n              return typeof s === 'object' ? s._id : s;\n            }) : [];\n            var staffResponse = yield apiClient.get('/admin/users', {\n              headers: {\n                Authorization: \"Bearer \" + userInfo.token\n              }\n            });\n            if (staffResponse.data && staffResponse.data.success) {\n              var staffMembers = staffResponse.data.users.filter(function (user) {\n                return staffIds.includes(user._id);\n              });\n              setStaff(staffMembers);\n              var availableStaff = staffResponse.data.users.filter(function (user) {\n                return (user.role === 'barber' || user.role === 'manager') && !staffIds.includes(user._id);\n              });\n              setAvailableUsers(availableStaff);\n            }\n          } else {\n            var usersResponse = yield apiClient.get('/admin/users', {\n              headers: {\n                Authorization: \"Bearer \" + userInfo.token\n              }\n            });\n            if (usersResponse.data && usersResponse.data.success) {\n              var _availableStaff = usersResponse.data.users.filter(function (user) {\n                return user.role === 'barber' || user.role === 'manager';\n              });\n              setAvailableUsers(_availableStaff);\n            }\n          }\n          console.log('Salon staff loaded');\n        } else {\n          console.error('Failed to load salon details:', response.data);\n          Alert.alert('Error', 'Failed to load salon details');\n        }\n        setLoading(false);\n      } catch (error) {\n        console.error('Error fetching salon staff:', error);\n        setLoading(false);\n        Alert.alert('Error', 'Failed to load salon staff: ' + (error.message || 'Unknown error'));\n      }\n    });\n    return function fetchSalonWithStaff() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var addStaffToSalon = function () {\n    var _ref3 = _asyncToGenerator(function* () {\n      if (!selectedUser) {\n        Alert.alert('Error', 'Please select a user to add');\n        return;\n      }\n      try {\n        setSaving(true);\n        var userUpdateResponse = yield apiClient.put(\"/admin/users/\" + selectedUser._id, {\n          role: 'barber'\n        }, {\n          headers: {\n            Authorization: \"Bearer \" + userInfo.token\n          }\n        });\n        if (!userUpdateResponse.data || !userUpdateResponse.data.success) {\n          throw new Error('Failed to update user role');\n        }\n        var response = yield apiClient.post(\"/admin/salons/\" + salonId + \"/staff\", {\n          staffId: selectedUser._id\n        }, {\n          headers: {\n            Authorization: \"Bearer \" + userInfo.token\n          }\n        });\n        if (response.data && response.data.success) {\n          Alert.alert('Success', selectedUser.name + \" has been added to the salon staff\");\n          setModalVisible(false);\n          setSelectedUser(null);\n          fetchSalonWithStaff();\n        } else {\n          throw new Error('Failed to add staff to salon');\n        }\n        setSaving(false);\n      } catch (error) {\n        console.error('Error adding staff:', error);\n        Alert.alert('Error', error.message || 'Failed to add staff to salon');\n        setSaving(false);\n      }\n    });\n    return function addStaffToSalon() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var handleRemoveStaff = function handleRemoveStaff(staffId) {\n    Alert.alert('Confirm Removal', 'Are you sure you want to remove this staff member from the salon?', [{\n      text: 'Cancel',\n      style: 'cancel'\n    }, {\n      text: 'Remove',\n      style: 'destructive',\n      onPress: function () {\n        var _onPress = _asyncToGenerator(function* () {\n          try {\n            setLoading(true);\n            var response = yield apiClient.delete(\"/admin/salons/\" + salonId + \"/staff/\" + staffId, {\n              headers: {\n                Authorization: \"Bearer \" + userInfo.token\n              }\n            });\n            if (response.data && response.data.success) {\n              Alert.alert('Success', 'Staff member removed successfully');\n              fetchSalonWithStaff();\n            } else {\n              var _response$data;\n              console.error('Failed to remove staff:', response.data);\n              Alert.alert('Error', ((_response$data = response.data) == null ? void 0 : _response$data.message) || 'Failed to remove staff member');\n            }\n            setLoading(false);\n          } catch (error) {\n            var _error$response, _error$response$data;\n            console.error('Error removing staff:', error);\n            setLoading(false);\n            Alert.alert('Error', ((_error$response = error.response) == null ? void 0 : (_error$response$data = _error$response.data) == null ? void 0 : _error$response$data.message) || 'Failed to remove staff member');\n          }\n        });\n        function onPress() {\n          return _onPress.apply(this, arguments);\n        }\n        return onPress;\n      }()\n    }]);\n  };\n  var renderStaffItem = function renderStaffItem(_ref4) {\n    var item = _ref4.item;\n    return _jsx(Card, {\n      style: styles.staffCard,\n      children: _jsxs(Card.Content, {\n        children: [_jsxs(View, {\n          style: styles.staffCardHeader,\n          children: [_jsx(Avatar.Text, {\n            size: 40,\n            label: item.name.split(' ').map(function (n) {\n              return n[0];\n            }).join(''),\n            backgroundColor: \"#0F4C75\"\n          }), _jsxs(View, {\n            style: styles.staffInfo,\n            children: [_jsx(Title, {\n              children: item.name\n            }), _jsxs(View, {\n              style: styles.staffDetailsRow,\n              children: [_jsx(Text, {\n                style: styles.staffEmail,\n                children: item.email\n              }), item.phone && _jsxs(Text, {\n                style: styles.staffPhone,\n                children: [\"\\u2022 \", item.phone]\n              })]\n            }), item.staffId && _jsxs(Text, {\n              style: styles.staffId,\n              children: [\"ID: \", item.staffId]\n            })]\n          }), _jsx(Chip, {\n            mode: \"outlined\",\n            style: [styles.roleChip, {\n              backgroundColor: item.role === 'manager' ? '#FFD700' : '#BBE1FA'\n            }],\n            children: item.role.charAt(0).toUpperCase() + item.role.slice(1)\n          })]\n        }), _jsx(Divider, {\n          style: {\n            marginVertical: 10\n          }\n        }), _jsx(Button, {\n          mode: \"outlined\",\n          icon: \"account-remove\",\n          textColor: \"#D32F2F\",\n          onPress: function onPress() {\n            return handleRemoveStaff(item._id);\n          },\n          children: \"Remove from Salon\"\n        })]\n      })\n    });\n  };\n  var renderAvailableUserItem = function renderAvailableUserItem(_ref5) {\n    var item = _ref5.item;\n    return _jsxs(View, {\n      style: styles.radioItem,\n      children: [_jsx(RadioButton, {\n        value: item._id,\n        status: selectedUser && selectedUser._id === item._id ? 'checked' : 'unchecked',\n        onPress: function onPress() {\n          return setSelectedUser(item);\n        }\n      }), _jsxs(View, {\n        style: styles.radioItemContent,\n        children: [_jsx(Text, {\n          style: styles.radioItemName,\n          children: item.name\n        }), _jsx(Text, {\n          style: styles.radioItemRole,\n          children: item.role || 'No role'\n        }), item.staffId && _jsxs(Text, {\n          style: styles.radioItemId,\n          children: [\"ID: \", item.staffId]\n        })]\n      })]\n    });\n  };\n  if (loading && !salon) {\n    return _jsxs(View, {\n      style: styles.centered,\n      children: [_jsx(ActivityIndicator, {\n        size: \"large\",\n        color: \"#0F4C75\"\n      }), _jsx(Text, {\n        style: {\n          marginTop: 20\n        },\n        children: \"Loading salon staff...\"\n      })]\n    });\n  }\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsxs(View, {\n      style: styles.header,\n      children: [_jsx(Text, {\n        style: styles.headerTitle,\n        children: \"Salon Staff\"\n      }), salon && _jsx(Text, {\n        style: styles.headerSubtitle,\n        children: salon.name\n      })]\n    }), _jsxs(View, {\n      style: styles.content,\n      children: [_jsx(View, {\n        style: styles.actionBar,\n        children: _jsx(Button, {\n          mode: \"contained\",\n          icon: \"account-plus\",\n          onPress: function onPress() {\n            return setModalVisible(true);\n          },\n          children: \"Add Staff Member\"\n        })\n      }), _jsxs(Title, {\n        style: styles.title,\n        children: [\"Current Staff (\", staff.length, \")\"]\n      }), staff.length > 0 ? _jsx(FlatList, {\n        data: staff,\n        renderItem: renderStaffItem,\n        keyExtractor: function keyExtractor(item) {\n          return item._id;\n        },\n        contentContainerStyle: {\n          paddingBottom: 20\n        }\n      }) : _jsx(Card, {\n        style: styles.emptyCard,\n        children: _jsx(Card.Content, {\n          children: _jsx(Text, {\n            style: styles.emptyText,\n            children: \"No staff members assigned to this salon\"\n          })\n        })\n      })]\n    }), _jsx(Portal, {\n      children: _jsxs(Modal, {\n        visible: modalVisible,\n        onDismiss: function onDismiss() {\n          setModalVisible(false);\n          setSelectedUser(null);\n        },\n        contentContainerStyle: styles.modalContent,\n        children: [_jsx(Title, {\n          style: styles.modalTitle,\n          children: \"Add Staff to Salon\"\n        }), _jsx(ScrollView, {\n          style: styles.userList,\n          children: availableUsers.length > 0 ? _jsx(FlatList, {\n            data: availableUsers,\n            renderItem: renderAvailableUserItem,\n            keyExtractor: function keyExtractor(item) {\n              return item._id;\n            },\n            scrollEnabled: false\n          }) : _jsx(View, {\n            style: styles.emptyUserList,\n            children: _jsx(Text, {\n              style: styles.emptyText,\n              children: \"No available users to add as staff\"\n            })\n          })\n        }), _jsxs(View, {\n          style: styles.modalActions,\n          children: [_jsx(Button, {\n            onPress: function onPress() {\n              setModalVisible(false);\n              setSelectedUser(null);\n            },\n            style: styles.button,\n            children: \"Cancel\"\n          }), _jsx(Button, {\n            mode: \"contained\",\n            onPress: addStaffToSalon,\n            loading: saving,\n            disabled: !selectedUser || saving,\n            style: styles.button,\n            children: \"Add to Salon\"\n          })]\n        })]\n      })\n    })]\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f5f5f5'\n  },\n  centered: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20\n  },\n  header: {\n    backgroundColor: '#0F4C75',\n    padding: 20,\n    paddingTop: 50,\n    paddingBottom: 20\n  },\n  headerTitle: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white'\n  },\n  headerSubtitle: {\n    fontSize: 16,\n    color: '#BBE1FA',\n    marginTop: 5\n  },\n  content: {\n    flex: 1,\n    padding: 15\n  },\n  actionBar: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    marginBottom: 15\n  },\n  title: {\n    marginBottom: 15\n  },\n  staffCard: {\n    marginBottom: 10,\n    elevation: 2\n  },\n  staffCardHeader: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  staffInfo: {\n    flex: 1,\n    marginLeft: 10\n  },\n  staffDetailsRow: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  staffEmail: {\n    fontSize: 12,\n    color: '#666'\n  },\n  staffPhone: {\n    fontSize: 12,\n    color: '#666',\n    marginLeft: 5\n  },\n  staffId: {\n    fontSize: 12,\n    color: '#666',\n    marginTop: 3\n  },\n  roleChip: {\n    marginLeft: 10\n  },\n  emptyCard: {\n    padding: 20,\n    alignItems: 'center'\n  },\n  emptyText: {\n    textAlign: 'center',\n    color: '#666'\n  },\n  modalContent: {\n    backgroundColor: 'white',\n    padding: 20,\n    margin: 20,\n    borderRadius: 5,\n    maxHeight: '80%'\n  },\n  modalTitle: {\n    marginBottom: 15,\n    textAlign: 'center'\n  },\n  userList: {\n    maxHeight: 300\n  },\n  radioItem: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 10,\n    borderBottomWidth: 1,\n    borderBottomColor: '#eee'\n  },\n  radioItemContent: {\n    marginLeft: 10\n  },\n  radioItemName: {\n    fontWeight: 'bold'\n  },\n  radioItemRole: {\n    fontSize: 12,\n    color: '#666',\n    textTransform: 'capitalize'\n  },\n  radioItemId: {\n    fontSize: 12,\n    color: '#666'\n  },\n  modalActions: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    marginTop: 20\n  },\n  button: {\n    marginHorizontal: 5,\n    width: '45%'\n  },\n  noUsersText: {\n    textAlign: 'center',\n    marginVertical: 20,\n    color: '#666'\n  },\n  emptyUserList: {\n    padding: 20,\n    alignItems: 'center'\n  }\n});\nexport default SalonStaffScreen;","map":{"version":3,"names":["React","useState","useEffect","useContext","View","StyleSheet","ScrollView","Alert","FlatList","Text","Card","Button","Title","ActivityIndicator","Divider","Avatar","Chip","Portal","Modal","RadioButton","AuthContext","apiClient","jsx","_jsx","jsxs","_jsxs","SalonStaffScreen","_ref","route","navigation","salonId","params","_useContext","userInfo","_useState","_useState2","_slicedToArray","loading","setLoading","_useState3","_useState4","saving","setSaving","_useState5","_useState6","salon","setSalon","_useState7","_useState8","staff","setStaff","_useState9","_useState10","availableUsers","setAvailableUsers","_useState11","_useState12","modalVisible","setModalVisible","_useState13","_useState14","selectedUser","setSelectedUser","fetchSalonWithStaff","_ref2","_asyncToGenerator","response","get","headers","Authorization","token","data","success","salonData","length","staffIds","Array","isArray","map","s","_id","staffResponse","staffMembers","users","filter","user","includes","availableStaff","role","usersResponse","console","log","error","alert","message","apply","arguments","addStaffToSalon","_ref3","userUpdateResponse","put","Error","post","staffId","name","handleRemoveStaff","text","style","onPress","_onPress","delete","_response$data","_error$response","_error$response$data","renderStaffItem","_ref4","item","styles","staffCard","children","Content","staffCardHeader","size","label","split","n","join","backgroundColor","staffInfo","staffDetailsRow","staffEmail","email","phone","staffPhone","mode","roleChip","charAt","toUpperCase","slice","marginVertical","icon","textColor","renderAvailableUserItem","_ref5","radioItem","value","status","radioItemContent","radioItemName","radioItemRole","radioItemId","centered","color","marginTop","container","header","headerTitle","headerSubtitle","content","actionBar","title","renderItem","keyExtractor","contentContainerStyle","paddingBottom","emptyCard","emptyText","visible","onDismiss","modalContent","modalTitle","userList","scrollEnabled","emptyUserList","modalActions","button","disabled","create","flex","justifyContent","alignItems","padding","paddingTop","fontSize","fontWeight","flexDirection","marginBottom","elevation","marginLeft","textAlign","margin","borderRadius","maxHeight","borderBottomWidth","borderBottomColor","textTransform","marginHorizontal","width","noUsersText"],"sources":["C:/Users/User/Downloads/mobile/screens/admin/SalonStaffScreen.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { View, StyleSheet, ScrollView, Alert, FlatList } from 'react-native';\r\nimport { Text, Card, Button, Title, ActivityIndicator, Divider, Avatar, Chip, Portal, Modal, RadioButton } from 'react-native-paper';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport apiClient from '../../api/client';\r\n\r\nconst SalonStaffScreen = ({ route, navigation }) => {\r\n  const { salonId } = route.params;\r\n  const { userInfo } = useContext(AuthContext);\r\n  \r\n  const [loading, setLoading] = useState(true);\r\n  const [saving, setSaving] = useState(false);\r\n  const [salon, setSalon] = useState(null);\r\n  const [staff, setStaff] = useState([]);\r\n  const [availableUsers, setAvailableUsers] = useState([]);\r\n  const [modalVisible, setModalVisible] = useState(false);\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchSalonWithStaff();\r\n  }, [salonId]);\r\n\r\n  const fetchSalonWithStaff = async () => {\r\n    try {\r\n      setLoading(true);\r\n      \r\n      // Get salon details with staff\r\n      const response = await apiClient.get(`/admin/salons/${salonId}`, {\r\n        headers: {\r\n          Authorization: `Bearer ${userInfo.token}`\r\n        }\r\n      });\r\n      \r\n      if (response.data && response.data.success) {\r\n        const salonData = response.data.salon;\r\n        setSalon(salonData);\r\n        \r\n        // Fetch staff details\r\n        if (salonData.staff && salonData.staff.length > 0) {\r\n          const staffIds = Array.isArray(salonData.staff) \r\n            ? salonData.staff.map(s => typeof s === 'object' ? s._id : s) \r\n            : [];\r\n            \r\n          const staffResponse = await apiClient.get('/admin/users', {\r\n            headers: {\r\n              Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n          });\r\n          \r\n          if (staffResponse.data && staffResponse.data.success) {\r\n            // Filter users that are in the salon's staff\r\n            const staffMembers = staffResponse.data.users.filter(user => \r\n              staffIds.includes(user._id)\r\n            );\r\n            setStaff(staffMembers);\r\n            \r\n            // Filter available barbers and managers not in this salon\r\n            const availableStaff = staffResponse.data.users.filter(user => \r\n              (user.role === 'barber' || user.role === 'manager') && \r\n              !staffIds.includes(user._id)\r\n            );\r\n            setAvailableUsers(availableStaff);\r\n          }\r\n        } else {\r\n          // If no staff, get available barbers and managers\r\n          const usersResponse = await apiClient.get('/admin/users', {\r\n            headers: {\r\n              Authorization: `Bearer ${userInfo.token}`\r\n            }\r\n          });\r\n          \r\n          if (usersResponse.data && usersResponse.data.success) {\r\n            const availableStaff = usersResponse.data.users.filter(user => \r\n              user.role === 'barber' || user.role === 'manager'\r\n            );\r\n            setAvailableUsers(availableStaff);\r\n          }\r\n        }\r\n        \r\n        console.log('Salon staff loaded');\r\n      } else {\r\n        console.error('Failed to load salon details:', response.data);\r\n        Alert.alert('Error', 'Failed to load salon details');\r\n      }\r\n      \r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error fetching salon staff:', error);\r\n      setLoading(false);\r\n      Alert.alert('Error', 'Failed to load salon staff: ' + (error.message || 'Unknown error'));\r\n    }\r\n  };\r\n\r\n  const addStaffToSalon = async () => {\r\n    if (!selectedUser) {\r\n      Alert.alert('Error', 'Please select a user to add');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      setSaving(true);\r\n      \r\n      // First, ensure the user has the role of 'barber' (lowercase)\r\n      const userUpdateResponse = await apiClient.put(`/admin/users/${selectedUser._id}`, \r\n        { role: 'barber' },\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${userInfo.token}`\r\n          }\r\n        }\r\n      );\r\n      \r\n      if (!userUpdateResponse.data || !userUpdateResponse.data.success) {\r\n        throw new Error('Failed to update user role');\r\n      }\r\n      \r\n      // Then add to salon\r\n      const response = await apiClient.post(`/admin/salons/${salonId}/staff`, \r\n        { staffId: selectedUser._id },\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${userInfo.token}`\r\n          }\r\n        }\r\n      );\r\n      \r\n      if (response.data && response.data.success) {\r\n        Alert.alert('Success', `${selectedUser.name} has been added to the salon staff`);\r\n        setModalVisible(false);\r\n        setSelectedUser(null);\r\n        fetchSalonWithStaff(); // Refresh data\r\n      } else {\r\n        throw new Error('Failed to add staff to salon');\r\n      }\r\n      \r\n      setSaving(false);\r\n    } catch (error) {\r\n      console.error('Error adding staff:', error);\r\n      Alert.alert('Error', error.message || 'Failed to add staff to salon');\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleRemoveStaff = (staffId) => {\r\n    Alert.alert(\r\n      'Confirm Removal',\r\n      'Are you sure you want to remove this staff member from the salon?',\r\n      [\r\n        {\r\n          text: 'Cancel',\r\n          style: 'cancel',\r\n        },\r\n        {\r\n          text: 'Remove',\r\n          style: 'destructive',\r\n          onPress: async () => {\r\n            try {\r\n              setLoading(true);\r\n              \r\n              const response = await apiClient.delete(`/admin/salons/${salonId}/staff/${staffId}`, {\r\n                headers: {\r\n                  Authorization: `Bearer ${userInfo.token}`\r\n                }\r\n              });\r\n              \r\n              if (response.data && response.data.success) {\r\n                Alert.alert('Success', 'Staff member removed successfully');\r\n                fetchSalonWithStaff();\r\n              } else {\r\n                console.error('Failed to remove staff:', response.data);\r\n                Alert.alert('Error', response.data?.message || 'Failed to remove staff member');\r\n              }\r\n              \r\n              setLoading(false);\r\n            } catch (error) {\r\n              console.error('Error removing staff:', error);\r\n              setLoading(false);\r\n              Alert.alert('Error', error.response?.data?.message || 'Failed to remove staff member');\r\n            }\r\n          }\r\n        }\r\n      ]\r\n    );\r\n  };\r\n\r\n  const renderStaffItem = ({ item }) => (\r\n    <Card style={styles.staffCard}>\r\n      <Card.Content>\r\n        <View style={styles.staffCardHeader}>\r\n          <Avatar.Text \r\n            size={40} \r\n            label={item.name.split(' ').map(n => n[0]).join('')} \r\n            backgroundColor=\"#0F4C75\" \r\n          />\r\n          <View style={styles.staffInfo}>\r\n            <Title>{item.name}</Title>\r\n            <View style={styles.staffDetailsRow}>\r\n              <Text style={styles.staffEmail}>{item.email}</Text>\r\n              {item.phone && <Text style={styles.staffPhone}>• {item.phone}</Text>}\r\n            </View>\r\n            {item.staffId && (\r\n              <Text style={styles.staffId}>ID: {item.staffId}</Text>\r\n            )}\r\n          </View>\r\n          <Chip \r\n            mode=\"outlined\" \r\n            style={[styles.roleChip, {\r\n              backgroundColor: item.role === 'manager' ? '#FFD700' : '#BBE1FA'\r\n            }]}\r\n          >\r\n            {item.role.charAt(0).toUpperCase() + item.role.slice(1)}\r\n          </Chip>\r\n        </View>\r\n        <Divider style={{ marginVertical: 10 }} />\r\n        <Button \r\n          mode=\"outlined\" \r\n          icon=\"account-remove\" \r\n          textColor=\"#D32F2F\"\r\n          onPress={() => handleRemoveStaff(item._id)}\r\n        >\r\n          Remove from Salon\r\n        </Button>\r\n      </Card.Content>\r\n    </Card>\r\n  );\r\n\r\n  const renderAvailableUserItem = ({ item }) => (\r\n    <View style={styles.radioItem}>\r\n      <RadioButton\r\n        value={item._id}\r\n        status={selectedUser && selectedUser._id === item._id ? 'checked' : 'unchecked'}\r\n        onPress={() => setSelectedUser(item)}\r\n      />\r\n      <View style={styles.radioItemContent}>\r\n        <Text style={styles.radioItemName}>{item.name}</Text>\r\n        <Text style={styles.radioItemRole}>{item.role || 'No role'}</Text>\r\n        {item.staffId && <Text style={styles.radioItemId}>ID: {item.staffId}</Text>}\r\n      </View>\r\n    </View>\r\n  );\r\n\r\n  if (loading && !salon) {\r\n    return (\r\n      <View style={styles.centered}>\r\n        <ActivityIndicator size=\"large\" color=\"#0F4C75\" />\r\n        <Text style={{ marginTop: 20 }}>Loading salon staff...</Text>\r\n      </View>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={styles.header}>\r\n        <Text style={styles.headerTitle}>Salon Staff</Text>\r\n        {salon && <Text style={styles.headerSubtitle}>{salon.name}</Text>}\r\n      </View>\r\n      \r\n      <View style={styles.content}>\r\n        <View style={styles.actionBar}>\r\n          <Button \r\n            mode=\"contained\" \r\n            icon=\"account-plus\" \r\n            onPress={() => setModalVisible(true)}\r\n          >\r\n            Add Staff Member\r\n          </Button>\r\n        </View>\r\n        \r\n        <Title style={styles.title}>Current Staff ({staff.length})</Title>\r\n        \r\n        {staff.length > 0 ? (\r\n          <FlatList\r\n            data={staff}\r\n            renderItem={renderStaffItem}\r\n            keyExtractor={item => item._id}\r\n            contentContainerStyle={{ paddingBottom: 20 }}\r\n          />\r\n        ) : (\r\n          <Card style={styles.emptyCard}>\r\n            <Card.Content>\r\n              <Text style={styles.emptyText}>No staff members assigned to this salon</Text>\r\n            </Card.Content>\r\n          </Card>\r\n        )}\r\n      </View>\r\n      \r\n      <Portal>\r\n        <Modal\r\n          visible={modalVisible}\r\n          onDismiss={() => {\r\n            setModalVisible(false);\r\n            setSelectedUser(null);\r\n          }}\r\n          contentContainerStyle={styles.modalContent}\r\n        >\r\n          <Title style={styles.modalTitle}>Add Staff to Salon</Title>\r\n          \r\n          <ScrollView style={styles.userList}>\r\n            {availableUsers.length > 0 ? (\r\n              <FlatList\r\n                data={availableUsers}\r\n                renderItem={renderAvailableUserItem}\r\n                keyExtractor={item => item._id}\r\n                scrollEnabled={false}\r\n              />\r\n            ) : (\r\n              <View style={styles.emptyUserList}>\r\n                <Text style={styles.emptyText}>No available users to add as staff</Text>\r\n              </View>\r\n            )}\r\n          </ScrollView>\r\n          \r\n          <View style={styles.modalActions}>\r\n            <Button \r\n              onPress={() => {\r\n                setModalVisible(false);\r\n                setSelectedUser(null);\r\n              }}\r\n              style={styles.button}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button \r\n              mode=\"contained\" \r\n              onPress={addStaffToSalon}\r\n              loading={saving}\r\n              disabled={!selectedUser || saving}\r\n              style={styles.button}\r\n            >\r\n              Add to Salon\r\n            </Button>\r\n          </View>\r\n        </Modal>\r\n      </Portal>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#f5f5f5',\r\n  },\r\n  centered: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n  },\r\n  header: {\r\n    backgroundColor: '#0F4C75',\r\n    padding: 20,\r\n    paddingTop: 50,\r\n    paddingBottom: 20,\r\n  },\r\n  headerTitle: {\r\n    fontSize: 24,\r\n    fontWeight: 'bold',\r\n    color: 'white',\r\n  },\r\n  headerSubtitle: {\r\n    fontSize: 16,\r\n    color: '#BBE1FA',\r\n    marginTop: 5,\r\n  },\r\n  content: {\r\n    flex: 1,\r\n    padding: 15,\r\n  },\r\n  actionBar: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end',\r\n    marginBottom: 15,\r\n  },\r\n  title: {\r\n    marginBottom: 15,\r\n  },\r\n  staffCard: {\r\n    marginBottom: 10,\r\n    elevation: 2,\r\n  },\r\n  staffCardHeader: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  staffInfo: {\r\n    flex: 1,\r\n    marginLeft: 10,\r\n  },\r\n  staffDetailsRow: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n  },\r\n  staffEmail: {\r\n    fontSize: 12,\r\n    color: '#666',\r\n  },\r\n  staffPhone: {\r\n    fontSize: 12,\r\n    color: '#666',\r\n    marginLeft: 5,\r\n  },\r\n  staffId: {\r\n    fontSize: 12,\r\n    color: '#666',\r\n    marginTop: 3,\r\n  },\r\n  roleChip: {\r\n    marginLeft: 10,\r\n  },\r\n  emptyCard: {\r\n    padding: 20,\r\n    alignItems: 'center',\r\n  },\r\n  emptyText: {\r\n    textAlign: 'center',\r\n    color: '#666',\r\n  },\r\n  modalContent: {\r\n    backgroundColor: 'white',\r\n    padding: 20,\r\n    margin: 20,\r\n    borderRadius: 5,\r\n    maxHeight: '80%',\r\n  },\r\n  modalTitle: {\r\n    marginBottom: 15,\r\n    textAlign: 'center',\r\n  },\r\n  userList: {\r\n    maxHeight: 300,\r\n  },\r\n  radioItem: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    padding: 10,\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#eee',\r\n  },\r\n  radioItemContent: {\r\n    marginLeft: 10,\r\n  },\r\n  radioItemName: {\r\n    fontWeight: 'bold',\r\n  },\r\n  radioItemRole: {\r\n    fontSize: 12,\r\n    color: '#666',\r\n    textTransform: 'capitalize',\r\n  },\r\n  radioItemId: {\r\n    fontSize: 12,\r\n    color: '#666',\r\n  },\r\n  modalActions: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-around',\r\n    marginTop: 20,\r\n  },\r\n  button: {\r\n    marginHorizontal: 5,\r\n    width: '45%',\r\n  },\r\n  noUsersText: {\r\n    textAlign: 'center',\r\n    marginVertical: 20,\r\n    color: '#666',\r\n  },\r\n  emptyUserList: {\r\n    padding: 20,\r\n    alignItems: 'center',\r\n  }\r\n});\r\n\r\nexport default SalonStaffScreen; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}