{"ast":null,"code":"var __extends=this&&this.__extends||function(){var _extendStatics=function extendStatics(d,b){_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b;}||function(d,b){for(var p in b)if(b.hasOwnProperty(p))d[p]=b[p];};return _extendStatics(d,b);};return function(d,b){_extendStatics(d,b);function __(){this.constructor=d;}d.prototype=b===null?Object.create(b):(__.prototype=b.prototype,new __());};}();var __assign=this&&this.__assign||function(){__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++){s=arguments[i];for(var p in s)if(Object.prototype.hasOwnProperty.call(s,p))t[p]=s[p];}return t;};return __assign.apply(this,arguments);};import Pie from\"paths-js/pie\";import React from\"react\";import View from\"react-native-web/dist/exports/View\";import{G,Path,Rect,Svg,Text}from\"react-native-svg\";import AbstractChart from\"./AbstractChart\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";var PieChart=function(_super){__extends(PieChart,_super);function PieChart(){return _super!==null&&_super.apply(this,arguments)||this;}PieChart.prototype.render=function(){var _this=this;var _a=this.props,_b=_a.style,style=_b===void 0?{}:_b,backgroundColor=_a.backgroundColor,_c=_a.absolute,absolute=_c===void 0?false:_c,_d=_a.hasLegend,hasLegend=_d===void 0?true:_d,_e=_a.avoidFalseZero,avoidFalseZero=_e===void 0?false:_e;var _f=style.borderRadius,borderRadius=_f===void 0?0:_f;var chart=Pie({center:this.props.center||[0,0],r:0,R:this.props.height/2.5,data:this.props.data,accessor:function accessor(x){return x[_this.props.accessor];}});var total=this.props.data.reduce(function(sum,item){return sum+item[_this.props.accessor];},0);var slices=chart.curves.map(function(c,i){var value;if(absolute){value=c.item[_this.props.accessor];}else{if(total===0){value=0+\"%\";}else{var percentage=Math.round(100/total*c.item[_this.props.accessor]);value=Math.round(100/total*c.item[_this.props.accessor])+\"%\";if(avoidFalseZero&&percentage===0){value=\"<1%\";}else{value=percentage+\"%\";}}}return _jsxs(G,{children:[_jsx(Path,{d:c.sector.path.print(),fill:c.item.color}),hasLegend?_jsx(Rect,{width:\"16px\",height:\"16px\",fill:c.item.color,rx:8,ry:8,x:_this.props.width/2.5-24,y:-(_this.props.height/2.5)+_this.props.height*0.8/_this.props.data.length*i+12}):null,hasLegend?_jsx(Text,{fill:c.item.legendFontColor,fontSize:c.item.legendFontSize,fontFamily:c.item.legendFontFamily,x:_this.props.width/2.5,y:-(_this.props.height/2.5)+_this.props.height*0.8/_this.props.data.length*i+12*2,children:value+\" \"+c.item.name}):null]},Math.random());});return _jsx(View,{style:__assign({width:this.props.width,height:this.props.height,padding:0},style),children:_jsxs(Svg,{width:this.props.width,height:this.props.height,children:[_jsx(G,{children:this.renderDefs(__assign({width:this.props.height,height:this.props.height},this.props.chartConfig))}),_jsx(Rect,{width:\"100%\",height:this.props.height,rx:borderRadius,ry:borderRadius,fill:backgroundColor}),_jsx(G,{x:this.props.width/2/2+Number(this.props.paddingLeft?this.props.paddingLeft:0),y:this.props.height/2,children:slices})]})});};return PieChart;}(AbstractChart);export default PieChart;","map":{"version":3,"names":["Pie","React","View","G","Path","Rect","Svg","Text","AbstractChart","jsx","_jsx","jsxs","_jsxs","PieChart","_super","__extends","prototype","render","_this","_a","props","_b","style","backgroundColor","_c","absolute","_d","hasLegend","_e","avoidFalseZero","_f","borderRadius","chart","center","r","R","height","data","accessor","x","total","reduce","sum","item","slices","curves","map","c","i","value","percentage","Math","round","children","d","sector","path","print","fill","color","width","rx","ry","y","length","legendFontColor","fontSize","legendFontSize","fontFamily","legendFontFamily","name","random","__assign","padding","renderDefs","chartConfig","Number","paddingLeft"],"sources":["C:\\Users\\User\\Downloads\\git_frontend\\mobile\\node_modules\\react-native-chart-kit\\src\\PieChart.tsx"],"sourcesContent":["import Pie from \"paths-js/pie\";\nimport React from \"react\";\nimport { View, ViewStyle } from \"react-native\";\nimport { G, Path, Rect, Svg, Text } from \"react-native-svg\";\n\nimport AbstractChart, { AbstractChartProps } from \"./AbstractChart\";\n\nexport interface PieChartProps extends AbstractChartProps {\n  data: Array<any>;\n  width: number;\n  height: number;\n  accessor: string;\n  backgroundColor: string;\n  paddingLeft: string;\n  center?: Array<number>;\n  absolute?: boolean;\n  hasLegend?: boolean;\n  style?: Partial<ViewStyle>;\n  avoidFalseZero?: boolean;\n}\n\ntype PieChartState = {};\n\nclass PieChart extends AbstractChart<PieChartProps, PieChartState> {\n  render() {\n    const {\n      style = {},\n      backgroundColor,\n      absolute = false,\n      hasLegend = true,\n      avoidFalseZero = false\n    } = this.props;\n\n    const { borderRadius = 0 } = style;\n\n    const chart = Pie({\n      center: this.props.center || [0, 0],\n      r: 0,\n      R: this.props.height / 2.5,\n      data: this.props.data,\n      accessor: x => {\n        return x[this.props.accessor];\n      }\n    });\n\n    const total = this.props.data.reduce((sum, item) => {\n      return sum + item[this.props.accessor];\n    }, 0);\n\n    const slices = chart.curves.map((c, i) => {\n      let value: string;\n\n      if (absolute) {\n        value = c.item[this.props.accessor];\n      } else {\n        if (total === 0) {\n          value = 0 + \"%\";\n        } else {\n          const percentage = Math.round(\n            (100 / total) * c.item[this.props.accessor]\n          );\n          value = Math.round((100 / total) * c.item[this.props.accessor]) + \"%\";\n          if (avoidFalseZero && percentage === 0) {\n            value = \"<1%\";\n          } else {\n            value = percentage + \"%\";\n          }\n        }\n      }\n\n      return (\n        <G key={Math.random()}>\n          <Path d={c.sector.path.print()} fill={c.item.color} />\n          {hasLegend ? (\n            <Rect\n              width=\"16px\"\n              height=\"16px\"\n              fill={c.item.color}\n              rx={8}\n              ry={8}\n              x={this.props.width / 2.5 - 24}\n              y={\n                -(this.props.height / 2.5) +\n                ((this.props.height * 0.8) / this.props.data.length) * i +\n                12\n              }\n            />\n          ) : null}\n          {hasLegend ? (\n            <Text\n              fill={c.item.legendFontColor}\n              fontSize={c.item.legendFontSize}\n              fontFamily={c.item.legendFontFamily}\n              x={this.props.width / 2.5}\n              y={\n                -(this.props.height / 2.5) +\n                ((this.props.height * 0.8) / this.props.data.length) * i +\n                12 * 2\n              }\n            >\n              {`${value} ${c.item.name}`}\n            </Text>\n          ) : null}\n        </G>\n      );\n    });\n\n    return (\n      <View\n        style={{\n          width: this.props.width,\n          height: this.props.height,\n          padding: 0,\n          ...style\n        }}\n      >\n        <Svg width={this.props.width} height={this.props.height}>\n          <G>\n            {this.renderDefs({\n              width: this.props.height,\n              height: this.props.height,\n              ...this.props.chartConfig\n            })}\n          </G>\n          <Rect\n            width=\"100%\"\n            height={this.props.height}\n            rx={borderRadius}\n            ry={borderRadius}\n            fill={backgroundColor}\n          />\n          <G\n            x={\n              this.props.width / 2 / 2 +\n              Number(this.props.paddingLeft ? this.props.paddingLeft : 0)\n            }\n            y={this.props.height / 2}\n          >\n            {slices}\n          </G>\n        </Svg>\n      </View>\n    );\n  }\n}\n\nexport default PieChart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}