{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import{useCallback,useEffect,useRef,useState}from'react';import inRange from'lodash/inRange';import times from'lodash/times';import debounce from'lodash/debounce';import constants from'../commons/constants';import{generateDay}from'../dateutils';export var PAGES_COUNT=100;export var NEAR_EDGE_THRESHOLD=10;export var INITIAL_PAGE=Math.floor(PAGES_COUNT/2);var UseTimelinePages=function UseTimelinePages(_ref){var date=_ref.date,listRef=_ref.listRef,numberOfDays=_ref.numberOfDays,shouldFixRTL=_ref.shouldFixRTL;var pagesRef=useRef(times(PAGES_COUNT,function(i){return generateDay(date,numberOfDays*(i-Math.floor(PAGES_COUNT/2)));}));var _useState=useState(pagesRef.current),_useState2=_slicedToArray(_useState,2),pages=_useState2[0],setPages=_useState2[1];var shouldResetPages=useRef(false);useEffect(function(){var updatedDays=times(PAGES_COUNT,function(i){return generateDay(date,numberOfDays*(i-Math.floor(PAGES_COUNT/2)));});pagesRef.current=updatedDays;setPages(updatedDays);},[numberOfDays]);var isOutOfRange=useCallback(function(index){return!inRange(index,0,PAGES_COUNT);},[]);var isNearEdges=useCallback(function(index){return!inRange(index,NEAR_EDGE_THRESHOLD,PAGES_COUNT-NEAR_EDGE_THRESHOLD);},[]);var isOnEdgePages=useCallback(function(index){return!inRange(index,1,PAGES_COUNT-1);},[]);var scrollToPage=function scrollToPage(pageIndex){var _listRef$current;(_listRef$current=listRef.current)==null?void 0:_listRef$current.scrollToOffset(shouldFixRTL?(PAGES_COUNT-1-pageIndex)*constants.screenWidth:pageIndex*constants.screenWidth,0,false);};var resetPages=function resetPages(date){pagesRef.current=times(PAGES_COUNT,function(i){return generateDay(date,numberOfDays*(i-Math.floor(PAGES_COUNT/2)));});setPages(pagesRef.current);setTimeout(function(){scrollToPage(INITIAL_PAGE);shouldResetPages.current=false;},0);};return{resetPages:useCallback(resetPages,[]),resetPagesDebounce:useCallback(debounce(resetPages,500,{leading:false,trailing:true}),[]),scrollToPage:useCallback(scrollToPage,[]),scrollToPageDebounce:useCallback(debounce(scrollToPage,250,{leading:false,trailing:true}),[]),pagesRef:pagesRef,pages:pages,shouldResetPages:shouldResetPages,isOutOfRange:isOutOfRange,isNearEdges:isNearEdges,isOnEdgePages:isOnEdgePages};};export default UseTimelinePages;","map":{"version":3,"names":["useCallback","useEffect","useRef","useState","inRange","times","debounce","constants","generateDay","PAGES_COUNT","NEAR_EDGE_THRESHOLD","INITIAL_PAGE","Math","floor","UseTimelinePages","_ref","date","listRef","numberOfDays","shouldFixRTL","pagesRef","i","_useState","current","_useState2","_slicedToArray","pages","setPages","shouldResetPages","updatedDays","isOutOfRange","index","isNearEdges","isOnEdgePages","scrollToPage","pageIndex","_listRef$current","scrollToOffset","screenWidth","resetPages","setTimeout","resetPagesDebounce","leading","trailing","scrollToPageDebounce"],"sources":["C:/Users/User/Downloads/git_frontend/mobile/node_modules/react-native-calendars/src/timeline-list/useTimelinePages.js"],"sourcesContent":["import { useCallback, useEffect, useRef, useState } from 'react';\nimport inRange from 'lodash/inRange';\nimport times from 'lodash/times';\nimport debounce from 'lodash/debounce';\nimport constants from '../commons/constants';\nimport { generateDay } from '../dateutils';\nexport const PAGES_COUNT = 100;\nexport const NEAR_EDGE_THRESHOLD = 10;\nexport const INITIAL_PAGE = Math.floor(PAGES_COUNT / 2);\nconst UseTimelinePages = ({ date, listRef, numberOfDays, shouldFixRTL }) => {\n    const pagesRef = useRef(times(PAGES_COUNT, i => {\n        return generateDay(date, numberOfDays * (i - Math.floor(PAGES_COUNT / 2)));\n    }));\n    const [pages, setPages] = useState(pagesRef.current);\n    const shouldResetPages = useRef(false);\n    useEffect(() => {\n        const updatedDays = times(PAGES_COUNT, i => {\n            return generateDay(date, numberOfDays * (i - Math.floor(PAGES_COUNT / 2)));\n        });\n        pagesRef.current = updatedDays;\n        setPages(updatedDays);\n    }, [numberOfDays]);\n    const isOutOfRange = useCallback((index) => {\n        return !inRange(index, 0, PAGES_COUNT);\n    }, []);\n    const isNearEdges = useCallback(index => {\n        return !inRange(index, NEAR_EDGE_THRESHOLD, PAGES_COUNT - NEAR_EDGE_THRESHOLD);\n    }, []);\n    const isOnEdgePages = useCallback(index => {\n        return !inRange(index, 1, PAGES_COUNT - 1);\n    }, []);\n    const scrollToPage = (pageIndex) => {\n        listRef.current?.scrollToOffset(shouldFixRTL ? ((PAGES_COUNT - 1 - pageIndex) * constants.screenWidth) : (pageIndex * constants.screenWidth), 0, false);\n    };\n    const resetPages = (date) => {\n        pagesRef.current = times(PAGES_COUNT, i => {\n            return generateDay(date, numberOfDays * (i - Math.floor(PAGES_COUNT / 2)));\n        });\n        setPages(pagesRef.current);\n        setTimeout(() => {\n            scrollToPage(INITIAL_PAGE);\n            shouldResetPages.current = false;\n        }, 0);\n    };\n    return {\n        resetPages: useCallback(resetPages, []),\n        resetPagesDebounce: useCallback(debounce(resetPages, 500, { leading: false, trailing: true }), []),\n        scrollToPage: useCallback(scrollToPage, []),\n        scrollToPageDebounce: useCallback(debounce(scrollToPage, 250, { leading: false, trailing: true }), []),\n        pagesRef,\n        pages,\n        shouldResetPages,\n        isOutOfRange,\n        isNearEdges,\n        isOnEdgePages\n    };\n};\nexport default UseTimelinePages;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}