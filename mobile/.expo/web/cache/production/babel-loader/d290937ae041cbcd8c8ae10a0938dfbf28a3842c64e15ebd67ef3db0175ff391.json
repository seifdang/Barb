{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import{includes}from'lodash';import XDate from'xdate';import React,{useRef,useState,useCallback,useMemo}from'react';import View from\"react-native-web/dist/exports/View\";import{sameMonth}from'../../dateutils';import{xdateToData}from'../../interface';import{useDidUpdate}from'../../hooks';import{UpdateSources}from'../commons';import styleConstructor from'../style';import CalendarContext from'./index';import TodayButton from'./todayButton';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";var CalendarProvider=function CalendarProvider(props){var theme=props.theme,date=props.date,onDateChanged=props.onDateChanged,onMonthChange=props.onMonthChange,disableAutoDaySelection=props.disableAutoDaySelection,_props$showTodayButto=props.showTodayButton,showTodayButton=_props$showTodayButto===void 0?false:_props$showTodayButto,disabledOpacity=props.disabledOpacity,todayBottomMargin=props.todayBottomMargin,todayButtonStyle=props.todayButtonStyle,propsStyle=props.style,numberOfDays=props.numberOfDays,_props$timelineLeftIn=props.timelineLeftInset,timelineLeftInset=_props$timelineLeftIn===void 0?72:_props$timelineLeftIn,children=props.children;var style=useRef(styleConstructor(theme));var todayButton=useRef();var prevDate=useRef(date);var currDate=useRef(date);var _useState=useState(date),_useState2=_slicedToArray(_useState,2),currentDate=_useState2[0],setCurrentDate=_useState2[1];var _useState3=useState(date),_useState4=_slicedToArray(_useState3,2),selectedDate=_useState4[0],setSelectedDate=_useState4[1];var _useState5=useState(UpdateSources.CALENDAR_INIT),_useState6=_slicedToArray(_useState5,2),updateSource=_useState6[0],setUpdateSource=_useState6[1];var wrapperStyle=useMemo(function(){return[style.current.contextWrapper,propsStyle];},[style,propsStyle]);useDidUpdate(function(){if(date&&date!==currentDate){_setDate(date,UpdateSources.PROP_UPDATE);}},[date]);var getUpdateSource=useCallback(function(updateSource){if(updateSource===UpdateSources.ARROW_PRESS||updateSource===UpdateSources.WEEK_ARROW_PRESS){return UpdateSources.PAGE_SCROLL;}return updateSource;},[]);var _setDate=useCallback(function(date,updateSource){prevDate.current=currDate.current;currDate.current=date;setCurrentDate(date);if(!includes(disableAutoDaySelection,updateSource)){setSelectedDate(date);}setUpdateSource(updateSource);var _updateSource=getUpdateSource(updateSource);onDateChanged==null?void 0:onDateChanged(date,_updateSource);if(!sameMonth(new XDate(date),new XDate(prevDate.current))){onMonthChange==null?void 0:onMonthChange(xdateToData(new XDate(date)),_updateSource);}},[onDateChanged,onMonthChange,getUpdateSource]);var _setDisabled=useCallback(function(disabled){if(showTodayButton){var _todayButton$current;(_todayButton$current=todayButton.current)==null?void 0:_todayButton$current.disable(disabled);}},[showTodayButton]);var contextValue=useMemo(function(){return{date:currentDate,prevDate:prevDate.current,selectedDate:selectedDate,updateSource:updateSource,setDate:_setDate,setDisabled:_setDisabled,numberOfDays:numberOfDays,timelineLeftInset:timelineLeftInset};},[currentDate,updateSource,numberOfDays,_setDisabled]);var renderTodayButton=function renderTodayButton(){return _jsx(TodayButton,{ref:todayButton,disabledOpacity:disabledOpacity,margin:todayBottomMargin,style:todayButtonStyle,theme:theme});};return _jsxs(CalendarContext.Provider,{value:contextValue,children:[_jsx(View,{style:wrapperStyle,children:children},numberOfDays),showTodayButton&&renderTodayButton()]});};export default CalendarProvider;CalendarProvider.displayName='CalendarProvider';","map":{"version":3,"names":["includes","XDate","React","useRef","useState","useCallback","useMemo","View","sameMonth","xdateToData","useDidUpdate","UpdateSources","styleConstructor","CalendarContext","TodayButton","jsx","_jsx","jsxs","_jsxs","CalendarProvider","props","theme","date","onDateChanged","onMonthChange","disableAutoDaySelection","_props$showTodayButto","showTodayButton","disabledOpacity","todayBottomMargin","todayButtonStyle","propsStyle","style","numberOfDays","_props$timelineLeftIn","timelineLeftInset","children","todayButton","prevDate","currDate","_useState","_useState2","_slicedToArray","currentDate","setCurrentDate","_useState3","_useState4","selectedDate","setSelectedDate","_useState5","CALENDAR_INIT","_useState6","updateSource","setUpdateSource","wrapperStyle","current","contextWrapper","_setDate","PROP_UPDATE","getUpdateSource","ARROW_PRESS","WEEK_ARROW_PRESS","PAGE_SCROLL","_updateSource","_setDisabled","disabled","_todayButton$current","disable","contextValue","setDate","setDisabled","renderTodayButton","ref","margin","Provider","value","displayName"],"sources":["C:/Users/User/Downloads/git_frontend/mobile/node_modules/react-native-calendars/src/expandableCalendar/Context/Provider.js"],"sourcesContent":["import { includes } from 'lodash';\nimport XDate from 'xdate';\nimport React, { useRef, useState, useCallback, useMemo } from 'react';\nimport { View } from 'react-native';\nimport { sameMonth } from '../../dateutils';\nimport { xdateToData } from '../../interface';\nimport { useDidUpdate } from '../../hooks';\nimport { UpdateSources } from '../commons';\nimport styleConstructor from '../style';\nimport CalendarContext from './index';\nimport TodayButton from './todayButton';\n/**\n * @description: Calendar context provider component\n * @example: https://github.com/wix/react-native-calendars/blob/master/example/src/screens/expandableCalendar.js\n */\nconst CalendarProvider = (props) => {\n    const { theme, date, onDateChanged, onMonthChange, disableAutoDaySelection, showTodayButton = false, disabledOpacity, todayBottomMargin, todayButtonStyle, style: propsStyle, numberOfDays, timelineLeftInset = 72, children } = props;\n    const style = useRef(styleConstructor(theme));\n    const todayButton = useRef();\n    const prevDate = useRef(date);\n    const currDate = useRef(date); // for setDate only to keep prevDate up to date\n    const [currentDate, setCurrentDate] = useState(date);\n    const [selectedDate, setSelectedDate] = useState(date);\n    const [updateSource, setUpdateSource] = useState(UpdateSources.CALENDAR_INIT);\n    const wrapperStyle = useMemo(() => {\n        return [style.current.contextWrapper, propsStyle];\n    }, [style, propsStyle]);\n    useDidUpdate(() => {\n        if (date && date !== currentDate) {\n            _setDate(date, UpdateSources.PROP_UPDATE);\n        }\n    }, [date]);\n    const getUpdateSource = useCallback((updateSource) => {\n        // NOTE: this comes to avoid breaking those how listen to the update source in onDateChanged and onMonthChange - remove on V2\n        if (updateSource === UpdateSources.ARROW_PRESS || updateSource === UpdateSources.WEEK_ARROW_PRESS) {\n            return UpdateSources.PAGE_SCROLL;\n        }\n        return updateSource;\n    }, []);\n    const _setDate = useCallback((date, updateSource) => {\n        prevDate.current = currDate.current;\n        currDate.current = date;\n        setCurrentDate(date);\n        if (!includes(disableAutoDaySelection, updateSource)) {\n            setSelectedDate(date);\n        }\n        setUpdateSource(updateSource);\n        const _updateSource = getUpdateSource(updateSource);\n        onDateChanged?.(date, _updateSource);\n        if (!sameMonth(new XDate(date), new XDate(prevDate.current))) {\n            onMonthChange?.(xdateToData(new XDate(date)), _updateSource);\n        }\n    }, [onDateChanged, onMonthChange, getUpdateSource]);\n    const _setDisabled = useCallback((disabled) => {\n        if (showTodayButton) {\n            todayButton.current?.disable(disabled);\n        }\n    }, [showTodayButton]);\n    const contextValue = useMemo(() => {\n        return {\n            date: currentDate,\n            prevDate: prevDate.current,\n            selectedDate,\n            updateSource: updateSource,\n            setDate: _setDate,\n            setDisabled: _setDisabled,\n            numberOfDays,\n            timelineLeftInset\n        };\n    }, [currentDate, updateSource, numberOfDays, _setDisabled]);\n    const renderTodayButton = () => {\n        return (<TodayButton ref={todayButton} disabledOpacity={disabledOpacity} margin={todayBottomMargin} style={todayButtonStyle} theme={theme}/>);\n    };\n    return (<CalendarContext.Provider value={contextValue}>\n      <View style={wrapperStyle} key={numberOfDays}>{children}</View>\n      {showTodayButton && renderTodayButton()}\n    </CalendarContext.Provider>);\n};\nexport default CalendarProvider;\nCalendarProvider.displayName = 'CalendarProvider';\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}