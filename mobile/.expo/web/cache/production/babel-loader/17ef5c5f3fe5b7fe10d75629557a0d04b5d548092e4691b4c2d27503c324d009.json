{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import React,{useState,useEffect}from'react';import View from\"react-native-web/dist/exports/View\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import FlatList from\"react-native-web/dist/exports/FlatList\";import RefreshControl from\"react-native-web/dist/exports/RefreshControl\";import Alert from\"react-native-web/dist/exports/Alert\";import TextInput from\"react-native-web/dist/exports/TextInput\";import{Text,Card,Title,Paragraph,Button,ActivityIndicator,Chip,FAB,Divider,Banner,Dialog,Portal}from'react-native-paper';import{format}from'date-fns';import{appointmentsApi}from'../../api/client';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";var sampleAppointments=[{_id:'1',service:{_id:'101',name:'Classic Haircut',price:25,duration:30},barber:{_id:'201',name:'John Barber'},date:new Date(Date.now()+2*24*60*60*1000).toISOString(),startTime:'10:00',endTime:'10:30',status:'confirmed'},{_id:'2',service:{_id:'102',name:'Beard Trim',price:15,duration:20},barber:{_id:'202',name:'Mike Scissors'},date:new Date(Date.now()+5*24*60*60*1000).toISOString(),startTime:'14:00',endTime:'14:20',status:'pending'},{_id:'3',service:{_id:'103',name:'Premium Package',price:45,duration:60},barber:{_id:'203',name:'Sarah Style'},date:new Date(Date.now()-3*24*60*60*1000).toISOString(),startTime:'11:00',endTime:'12:00',status:'completed'},{_id:'4',service:{_id:'104',name:'Hair Coloring',price:60,duration:90},barber:{_id:'204',name:'Alex Color'},date:new Date(Date.now()-7*24*60*60*1000).toISOString(),startTime:'09:00',endTime:'10:30',status:'cancelled'}];var AppointmentsScreen=function AppointmentsScreen(_ref){var navigation=_ref.navigation;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),appointments=_useState2[0],setAppointments=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),refreshing=_useState6[0],setRefreshing=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var _useState9=useState('upcoming'),_useState10=_slicedToArray(_useState9,2),activeTab=_useState10[0],setActiveTab=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),usingSampleData=_useState12[0],setUsingSampleData=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),cancellationReason=_useState14[0],setCancellationReason=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),dialogVisible=_useState16[0],setDialogVisible=_useState16[1];var _useState17=useState(null),_useState18=_slicedToArray(_useState17,2),appointmentToCancel=_useState18[0],setAppointmentToCancel=_useState18[1];useEffect(function(){fetchAppointments();var unsubscribe=navigation.addListener('focus',function(){fetchAppointments();});return unsubscribe;},[navigation]);var fetchAppointments=function(){var _ref2=_asyncToGenerator(function*(){try{setLoading(true);setError(null);setUsingSampleData(false);console.log('Fetching appointments...');var response=yield appointmentsApi.getUserAppointments();if(response.data.appointments&&response.data.appointments.length>0){console.log(`Received ${response.data.appointments.length} appointments from API`);response.data.appointments.forEach(function(app){console.log(`Appointment ${app._id}: status=${app.status}, date=${new Date(app.date).toDateString()}`);});setAppointments(response.data.appointments);}else{console.log('No appointments found or empty response, using sample data');setAppointments(sampleAppointments);setUsingSampleData(true);}setLoading(false);}catch(error){console.error('Error fetching appointments:',error);setError('Failed to load appointments from server. Showing sample data instead.');setAppointments(sampleAppointments);setUsingSampleData(true);setLoading(false);}});return function fetchAppointments(){return _ref2.apply(this,arguments);};}();var onRefresh=function(){var _ref3=_asyncToGenerator(function*(){setRefreshing(true);yield fetchAppointments();setRefreshing(false);});return function onRefresh(){return _ref3.apply(this,arguments);};}();var promptCancellation=function promptCancellation(appointmentId){var appointment=appointments.find(function(app){return app._id===appointmentId;});setAppointmentToCancel(appointmentId);setDialogVisible(true);setCancellationReason('');console.log(`Prompted cancellation for appointment ${appointmentId}`);if(appointment){console.log(`Appointment details: ${appointment.service.name} on ${format(new Date(appointment.date),'MMM d')}`);}};var cancelAppointment=function(){var _ref4=_asyncToGenerator(function*(appointmentId,reason){try{setLoading(true);console.log(`Cancelling appointment ${appointmentId} with reason: ${reason||'No reason provided'}`);if(usingSampleData){console.log('Using sample data, updating locally');var updatedAppointments=appointments.map(function(appointment){return appointment._id===appointmentId?_objectSpread(_objectSpread({},appointment),{},{status:'cancelled',cancellationReason:reason}):appointment;});setAppointments(updatedAppointments);setLoading(false);Alert.alert('Success','Appointment cancelled successfully');return;}console.log('Sending cancellation request with reason:',reason);var response=yield appointmentsApi.cancelAppointment(appointmentId,{cancellationReason:reason});console.log('Cancel appointment response:',response.data);if(response.data&&response.data.success){Alert.alert('Success','Appointment cancelled successfully');yield fetchAppointments();}else{var _response$data;console.error('Failed to cancel appointment:',response.data);Alert.alert('Error',((_response$data=response.data)==null?void 0:_response$data.message)||'Failed to cancel appointment');setLoading(false);}}catch(error){var _error$response,_error$response$data;console.error('Error cancelling appointment:',error);Alert.alert('Error',((_error$response=error.response)==null?void 0:(_error$response$data=_error$response.data)==null?void 0:_error$response$data.message)||'Failed to cancel appointment. Please try again.');setLoading(false);}});return function cancelAppointment(_x,_x2){return _ref4.apply(this,arguments);};}();var deleteAppointment=function(){var _ref5=_asyncToGenerator(function*(appointmentId){try{setLoading(true);console.log(`Deleting appointment ${appointmentId}`);if(usingSampleData){console.log('Using sample data, updating locally');var updatedAppointments=appointments.filter(function(appointment){return appointment._id!==appointmentId;});setAppointments(updatedAppointments);setLoading(false);Alert.alert('Success','Appointment deleted successfully');return;}console.log('Sending delete request');var response=yield appointmentsApi.deleteAppointment(appointmentId);console.log('Delete appointment response:',response.data);if(response.data&&response.data.success){Alert.alert('Success','Appointment deleted successfully');yield fetchAppointments();}else{var _response$data2;console.error('Failed to delete appointment:',response.data);Alert.alert('Error',((_response$data2=response.data)==null?void 0:_response$data2.message)||'Failed to delete appointment');setLoading(false);}}catch(error){var _error$response2,_error$response2$data;console.error('Error deleting appointment:',error);Alert.alert('Error',((_error$response2=error.response)==null?void 0:(_error$response2$data=_error$response2.data)==null?void 0:_error$response2$data.message)||'Failed to delete appointment. Please try again.');setLoading(false);}});return function deleteAppointment(_x3){return _ref5.apply(this,arguments);};}();var promptDelete=function promptDelete(appointmentId){var appointment=appointments.find(function(app){return app._id===appointmentId;});Alert.alert('Delete Appointment',`Are you sure you want to delete this appointment${appointment?` for ${appointment.service.name}`:''}?`,[{text:'Cancel',style:'cancel'},{text:'Delete',onPress:function onPress(){return deleteAppointment(appointmentId);},style:'destructive'}]);console.log(`Prompted deletion for appointment ${appointmentId}`);};var filteredAppointments=appointments.filter(function(appointment){var appointmentDate=new Date(appointment.date);var today=new Date();today.setHours(0,0,0,0);if(activeTab==='upcoming'){return appointmentDate>=today||appointmentDate.getDate()===today.getDate()&&appointment.status!=='completed'&&appointment.status!=='cancelled';}else{return appointmentDate<today||appointment.status==='completed'||appointment.status==='cancelled';}}).sort(function(a,b){var dateA=new Date(a.date);var dateB=new Date(b.date);if(activeTab==='upcoming'){return dateA-dateB;}else{return dateB-dateA;}});var renderAppointmentItem=function renderAppointmentItem(_ref6){var item=_ref6.item;var appointmentDate=new Date(item.date);var today=new Date();today.setHours(0,0,0,0);var isPast=appointmentDate<today||item.status==='completed'||item.status==='cancelled';var canCancel=!isPast&&(item.status==='confirmed'||item.status==='pending');console.log(`Appointment ${item._id}: date=${appointmentDate.toDateString()}, status=${item.status}, isPast=${isPast}, canCancel=${canCancel}`);return _jsx(Card,{style:[styles.card,isPast&&styles.pastCard],children:_jsxs(Card.Content,{children:[_jsxs(View,{style:styles.headerRow,children:[_jsx(Title,{children:item.service.name}),canCancel&&_jsx(Chip,{mode:\"outlined\",style:styles.actionChip,textStyle:{color:'#F44336'},children:\"Cancellable\"})]}),_jsxs(View,{style:styles.row,children:[_jsx(Text,{style:styles.label,children:\"Date:\"}),_jsx(Text,{children:format(new Date(item.date),'MMMM d, yyyy')})]}),_jsxs(View,{style:styles.row,children:[_jsx(Text,{style:styles.label,children:\"Time:\"}),_jsxs(Text,{children:[item.startTime,\" - \",item.endTime]})]}),_jsxs(View,{style:styles.row,children:[_jsx(Text,{style:styles.label,children:\"Barber:\"}),_jsx(Text,{style:styles.barberName,children:item.barber.name})]}),_jsxs(View,{style:styles.row,children:[_jsx(Text,{style:styles.label,children:\"Price:\"}),_jsxs(Text,{children:[\"$\",item.service.price]})]}),_jsx(View,{style:styles.statusContainer,children:_jsx(Chip,{style:{backgroundColor:item.status==='confirmed'?'#4CAF50':item.status==='pending'?'#FFC107':item.status==='completed'?'#3282B8':'#F44336'},textStyle:{color:'white'},children:item.status.toUpperCase()})}),_jsxs(View,{style:styles.buttonContainer,children:[canCancel&&_jsx(Button,{mode:\"contained\",style:styles.cancelButton,icon:\"close\",color:\"#F44336\",onPress:function onPress(){return promptCancellation(item._id);},children:\"Cancel\"}),_jsx(Button,{mode:\"outlined\",style:styles.deleteButton,icon:\"delete\",color:\"#FF5722\",onPress:function onPress(){return promptDelete(item._id);},children:\"Delete\"})]})]})});};if(loading&&!refreshing){return _jsx(View,{style:styles.centered,children:_jsx(ActivityIndicator,{size:\"large\",color:\"#0F4C75\"})});}return _jsxs(View,{style:styles.container,children:[_jsx(View,{style:styles.header,children:_jsx(Text,{style:styles.headerTitle,children:\"My Appointments\"})}),_jsxs(View,{style:styles.tabContainer,children:[_jsx(Button,{mode:activeTab==='upcoming'?'contained':'outlined',onPress:function onPress(){return setActiveTab('upcoming');},style:styles.tabButton,children:\"Upcoming\"}),_jsx(Button,{mode:activeTab==='past'?'contained':'outlined',onPress:function onPress(){return setActiveTab('past');},style:styles.tabButton,children:\"Past\"})]}),_jsx(Divider,{}),usingSampleData&&_jsx(Banner,{visible:true,icon:\"information\",actions:[{label:'Retry',onPress:fetchAppointments}],children:\"Showing demo appointments. Tap \\\"Retry\\\" to attempt loading from server.\"}),error?_jsx(Banner,{visible:true,icon:\"alert\",actions:[{label:'Retry',onPress:fetchAppointments}],children:error}):_jsxs(_Fragment,{children:[_jsx(FlatList,{data:filteredAppointments,renderItem:renderAppointmentItem,keyExtractor:function keyExtractor(item){return item._id;},contentContainerStyle:styles.appointmentsList,refreshControl:_jsx(RefreshControl,{refreshing:refreshing,onRefresh:onRefresh,colors:['#0F4C75']}),ListEmptyComponent:_jsxs(View,{style:styles.emptyContainer,children:[_jsx(Text,{style:styles.emptyText,children:activeTab==='upcoming'?\"You don't have any upcoming appointments\":\"You don't have any past appointments\"}),activeTab==='upcoming'&&_jsx(Button,{mode:\"contained\",style:styles.bookButton,onPress:function onPress(){return navigation.navigate('Services');},children:\"Book an Appointment\"})]})}),activeTab==='upcoming'&&_jsx(FAB,{style:styles.fab,icon:\"plus\",label:\"Book\",onPress:function onPress(){return navigation.navigate('Services');}})]}),_jsx(Portal,{children:_jsxs(Dialog,{visible:dialogVisible,onDismiss:function onDismiss(){return setDialogVisible(false);},children:[_jsx(Dialog.Title,{style:styles.dialogTitle,children:\"Confirm Cancellation\"}),_jsxs(Dialog.Content,{children:[_jsx(Text,{style:styles.dialogText,children:\"Are you sure you want to cancel this appointment? This action cannot be undone.\"}),_jsx(Text,{style:styles.dialogSubText,children:\"Please provide a reason for cancelling (optional):\"}),_jsx(TextInput,{style:styles.input,value:cancellationReason,onChangeText:setCancellationReason,placeholder:\"e.g., Schedule conflict, illness, etc.\",multiline:true})]}),_jsxs(Dialog.Actions,{children:[_jsx(Button,{onPress:function onPress(){return setDialogVisible(false);},style:styles.dialogButton,children:\"Go Back\"}),_jsx(Button,{onPress:function onPress(){setDialogVisible(false);cancelAppointment(appointmentToCancel,cancellationReason);},mode:\"contained\",color:\"#F44336\",style:styles.dialogConfirmButton,children:\"Confirm Cancellation\"})]})]})})]});};var styles=StyleSheet.create({container:{flex:1,backgroundColor:'#f5f5f5'},centered:{flex:1,justifyContent:'center',alignItems:'center',padding:20},errorText:{color:'#d32f2f',marginBottom:20,textAlign:'center'},header:{backgroundColor:'#0F4C75',padding:20,paddingTop:50,paddingBottom:20},headerTitle:{fontSize:24,color:'white',fontWeight:'bold'},tabContainer:{flexDirection:'row',justifyContent:'space-around',padding:10,backgroundColor:'white'},tabButton:{flex:1,margin:5},appointmentsList:{padding:15,paddingBottom:80},card:{marginBottom:15,borderRadius:10,elevation:3},pastCard:{opacity:0.8},row:{flexDirection:'row',justifyContent:'space-between',marginVertical:5},label:{fontWeight:'bold',color:'#666'},statusContainer:{marginTop:10,marginBottom:15,alignItems:'flex-start'},cancelButton:{marginTop:15,borderColor:'#F44336',backgroundColor:'#F44336',padding:5,marginHorizontal:20},emptyContainer:{padding:20,alignItems:'center'},emptyText:{fontSize:16,color:'gray',marginBottom:20,textAlign:'center'},bookButton:{marginTop:10},fab:{position:'absolute',margin:16,right:0,bottom:0,backgroundColor:'#0F4C75'},dialogTitle:{fontSize:20,fontWeight:'bold',marginBottom:10},dialogText:{marginBottom:10},dialogSubText:{marginBottom:10},dialogButton:{marginRight:10},dialogConfirmButton:{marginLeft:10},input:{borderWidth:1,borderColor:'#ddd',borderRadius:5,padding:10,marginTop:5,minHeight:80},barberName:{fontWeight:'bold'},headerRow:{flexDirection:'row',justifyContent:'space-between',alignItems:'center'},actionChip:{borderColor:'#F44336',backgroundColor:'white'},buttonContainer:{flexDirection:'row',justifyContent:'space-between',marginTop:10},deleteButton:{borderColor:'#FF5722',backgroundColor:'white'}});export default AppointmentsScreen;","map":{"version":3,"names":["React","useState","useEffect","View","StyleSheet","FlatList","RefreshControl","Alert","TextInput","Text","Card","Title","Paragraph","Button","ActivityIndicator","Chip","FAB","Divider","Banner","Dialog","Portal","format","appointmentsApi","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","sampleAppointments","_id","service","name","price","duration","barber","date","Date","now","toISOString","startTime","endTime","status","AppointmentsScreen","_ref","navigation","_useState","_useState2","_slicedToArray","appointments","setAppointments","_useState3","_useState4","loading","setLoading","_useState5","_useState6","refreshing","setRefreshing","_useState7","_useState8","error","setError","_useState9","_useState10","activeTab","setActiveTab","_useState11","_useState12","usingSampleData","setUsingSampleData","_useState13","_useState14","cancellationReason","setCancellationReason","_useState15","_useState16","dialogVisible","setDialogVisible","_useState17","_useState18","appointmentToCancel","setAppointmentToCancel","fetchAppointments","unsubscribe","addListener","_ref2","_asyncToGenerator","console","log","response","getUserAppointments","data","length","forEach","app","toDateString","apply","arguments","onRefresh","_ref3","promptCancellation","appointmentId","appointment","find","cancelAppointment","_ref4","reason","updatedAppointments","map","_objectSpread","alert","success","_response$data","message","_error$response","_error$response$data","_x","_x2","deleteAppointment","_ref5","filter","_response$data2","_error$response2","_error$response2$data","_x3","promptDelete","text","style","onPress","filteredAppointments","appointmentDate","today","setHours","getDate","sort","a","b","dateA","dateB","renderAppointmentItem","_ref6","item","isPast","canCancel","styles","card","pastCard","children","Content","headerRow","mode","actionChip","textStyle","color","row","label","barberName","statusContainer","backgroundColor","toUpperCase","buttonContainer","cancelButton","icon","deleteButton","centered","size","container","header","headerTitle","tabContainer","tabButton","visible","actions","renderItem","keyExtractor","contentContainerStyle","appointmentsList","refreshControl","colors","ListEmptyComponent","emptyContainer","emptyText","bookButton","navigate","fab","onDismiss","dialogTitle","dialogText","dialogSubText","input","value","onChangeText","placeholder","multiline","Actions","dialogButton","dialogConfirmButton","create","flex","justifyContent","alignItems","padding","errorText","marginBottom","textAlign","paddingTop","paddingBottom","fontSize","fontWeight","flexDirection","margin","borderRadius","elevation","opacity","marginVertical","marginTop","borderColor","marginHorizontal","position","right","bottom","marginRight","marginLeft","borderWidth","minHeight"],"sources":["C:/Users/User/Downloads/git_frontend/mobile/screens/customer/AppointmentsScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { View, StyleSheet, FlatList, RefreshControl, Alert, TextInput } from 'react-native';\r\nimport { Text, Card, Title, Paragraph, Button, ActivityIndicator, Chip, FAB, Divider, Banner, Dialog, Portal } from 'react-native-paper';\r\nimport { format } from 'date-fns';\r\nimport { appointmentsApi } from '../../api/client';\r\n\r\n// Sample appointments for fallback if API fails\r\nconst sampleAppointments = [\r\n  {\r\n    _id: '1',\r\n    service: {\r\n      _id: '101',\r\n      name: 'Classic Haircut',\r\n      price: 25,\r\n      duration: 30\r\n    },\r\n    barber: {\r\n      _id: '201',\r\n      name: 'John Barber'\r\n    },\r\n    date: new Date(Date.now() + 2 * 24 * 60 * 60 * 1000).toISOString(), // 2 days from now\r\n    startTime: '10:00',\r\n    endTime: '10:30',\r\n    status: 'confirmed'\r\n  },\r\n  {\r\n    _id: '2',\r\n    service: {\r\n      _id: '102',\r\n      name: 'Beard Trim',\r\n      price: 15,\r\n      duration: 20\r\n    },\r\n    barber: {\r\n      _id: '202',\r\n      name: 'Mike Scissors'\r\n    },\r\n    date: new Date(Date.now() + 5 * 24 * 60 * 60 * 1000).toISOString(), // 5 days from now\r\n    startTime: '14:00',\r\n    endTime: '14:20',\r\n    status: 'pending'\r\n  },\r\n  {\r\n    _id: '3',\r\n    service: {\r\n      _id: '103',\r\n      name: 'Premium Package',\r\n      price: 45,\r\n      duration: 60\r\n    },\r\n    barber: {\r\n      _id: '203',\r\n      name: 'Sarah Style'\r\n    },\r\n    date: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(), // 3 days ago\r\n    startTime: '11:00',\r\n    endTime: '12:00',\r\n    status: 'completed'\r\n  },\r\n  {\r\n    _id: '4',\r\n    service: {\r\n      _id: '104',\r\n      name: 'Hair Coloring',\r\n      price: 60,\r\n      duration: 90\r\n    },\r\n    barber: {\r\n      _id: '204',\r\n      name: 'Alex Color'\r\n    },\r\n    date: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString(), // 7 days ago\r\n    startTime: '09:00',\r\n    endTime: '10:30',\r\n    status: 'cancelled'\r\n  }\r\n];\r\n\r\nconst AppointmentsScreen = ({ navigation }) => {\r\n  const [appointments, setAppointments] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [refreshing, setRefreshing] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [activeTab, setActiveTab] = useState('upcoming'); // 'upcoming' or 'past'\r\n  const [usingSampleData, setUsingSampleData] = useState(false);\r\n  const [cancellationReason, setCancellationReason] = useState('');\r\n  const [dialogVisible, setDialogVisible] = useState(false);\r\n  const [appointmentToCancel, setAppointmentToCancel] = useState(null);\r\n  \r\n  useEffect(() => {\r\n    fetchAppointments();\r\n    \r\n    // Refresh appointments when screen is focused\r\n    const unsubscribe = navigation.addListener('focus', () => {\r\n      fetchAppointments();\r\n    });\r\n    \r\n    return unsubscribe;\r\n  }, [navigation]);\r\n  \r\n  const fetchAppointments = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      setUsingSampleData(false);\r\n      \r\n      console.log('Fetching appointments...');\r\n      const response = await appointmentsApi.getUserAppointments();\r\n      \r\n      if (response.data.appointments && response.data.appointments.length > 0) {\r\n        console.log(`Received ${response.data.appointments.length} appointments from API`);\r\n        // Log the status of each appointment to debug\r\n        response.data.appointments.forEach(app => {\r\n          console.log(`Appointment ${app._id}: status=${app.status}, date=${new Date(app.date).toDateString()}`);\r\n        });\r\n        setAppointments(response.data.appointments);\r\n      } else {\r\n        console.log('No appointments found or empty response, using sample data');\r\n        setAppointments(sampleAppointments);\r\n        setUsingSampleData(true);\r\n      }\r\n      \r\n      setLoading(false);\r\n    } catch (error) {\r\n      console.error('Error fetching appointments:', error);\r\n      setError('Failed to load appointments from server. Showing sample data instead.');\r\n      // Use sample data if API fails\r\n      setAppointments(sampleAppointments);\r\n      setUsingSampleData(true);\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  const onRefresh = async () => {\r\n    setRefreshing(true);\r\n    await fetchAppointments();\r\n    setRefreshing(false);\r\n  };\r\n  \r\n  const promptCancellation = (appointmentId) => {\r\n    // Find the appointment to get more details for a better user experience\r\n    const appointment = appointments.find(app => app._id === appointmentId);\r\n    setAppointmentToCancel(appointmentId);\r\n    setDialogVisible(true);\r\n    setCancellationReason('');\r\n    \r\n    // Debug info\r\n    console.log(`Prompted cancellation for appointment ${appointmentId}`);\r\n    if (appointment) {\r\n      console.log(`Appointment details: ${appointment.service.name} on ${format(new Date(appointment.date), 'MMM d')}`);\r\n    }\r\n  };\r\n  \r\n  const cancelAppointment = async (appointmentId, reason) => {\r\n    try {\r\n      setLoading(true);\r\n      console.log(`Cancelling appointment ${appointmentId} with reason: ${reason || 'No reason provided'}`);\r\n      \r\n      // If using sample data, just update the local state\r\n      if (usingSampleData) {\r\n        console.log('Using sample data, updating locally');\r\n        const updatedAppointments = appointments.map(appointment => \r\n          appointment._id === appointmentId \r\n            ? { ...appointment, status: 'cancelled', cancellationReason: reason }\r\n            : appointment\r\n        );\r\n        setAppointments(updatedAppointments);\r\n        setLoading(false);\r\n        Alert.alert('Success', 'Appointment cancelled successfully');\r\n        return;\r\n      }\r\n      \r\n      // Otherwise, call the API\r\n      console.log('Sending cancellation request with reason:', reason);\r\n      const response = await appointmentsApi.cancelAppointment(appointmentId, { cancellationReason: reason });\r\n      console.log('Cancel appointment response:', response.data);\r\n      \r\n      if (response.data && response.data.success) {\r\n        Alert.alert('Success', 'Appointment cancelled successfully');\r\n        // Reload appointments to get updated status\r\n        await fetchAppointments();\r\n      } else {\r\n        console.error('Failed to cancel appointment:', response.data);\r\n        Alert.alert('Error', response.data?.message || 'Failed to cancel appointment');\r\n        setLoading(false);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error cancelling appointment:', error);\r\n      Alert.alert('Error', error.response?.data?.message || 'Failed to cancel appointment. Please try again.');\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  // Add a new deleteAppointment function\r\n  const deleteAppointment = async (appointmentId) => {\r\n    try {\r\n      setLoading(true);\r\n      console.log(`Deleting appointment ${appointmentId}`);\r\n      \r\n      // If using sample data, just update the local state\r\n      if (usingSampleData) {\r\n        console.log('Using sample data, updating locally');\r\n        const updatedAppointments = appointments.filter(appointment => \r\n          appointment._id !== appointmentId\r\n        );\r\n        setAppointments(updatedAppointments);\r\n        setLoading(false);\r\n        Alert.alert('Success', 'Appointment deleted successfully');\r\n        return;\r\n      }\r\n      \r\n      // Otherwise, call the API\r\n      console.log('Sending delete request');\r\n      const response = await appointmentsApi.deleteAppointment(appointmentId);\r\n      console.log('Delete appointment response:', response.data);\r\n      \r\n      if (response.data && response.data.success) {\r\n        Alert.alert('Success', 'Appointment deleted successfully');\r\n        // Reload appointments to refresh the list\r\n        await fetchAppointments();\r\n      } else {\r\n        console.error('Failed to delete appointment:', response.data);\r\n        Alert.alert('Error', response.data?.message || 'Failed to delete appointment');\r\n        setLoading(false);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error deleting appointment:', error);\r\n      Alert.alert('Error', error.response?.data?.message || 'Failed to delete appointment. Please try again.');\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  // Add a function to prompt for deletion confirmation\r\n  const promptDelete = (appointmentId) => {\r\n    // Find the appointment to get more details for a better user experience\r\n    const appointment = appointments.find(app => app._id === appointmentId);\r\n    \r\n    Alert.alert(\r\n      'Delete Appointment',\r\n      `Are you sure you want to delete this appointment${appointment ? ` for ${appointment.service.name}` : ''}?`,\r\n      [\r\n        {\r\n          text: 'Cancel',\r\n          style: 'cancel'\r\n        },\r\n        {\r\n          text: 'Delete',\r\n          onPress: () => deleteAppointment(appointmentId),\r\n          style: 'destructive'\r\n        }\r\n      ]\r\n    );\r\n    \r\n    // Debug info\r\n    console.log(`Prompted deletion for appointment ${appointmentId}`);\r\n  };\r\n  \r\n  // Filter appointments by upcoming or past\r\n  const filteredAppointments = appointments.filter(appointment => {\r\n    const appointmentDate = new Date(appointment.date);\r\n    const today = new Date();\r\n    today.setHours(0, 0, 0, 0);\r\n    \r\n    if (activeTab === 'upcoming') {\r\n      return appointmentDate >= today || \r\n             (appointmentDate.getDate() === today.getDate() && \r\n              appointment.status !== 'completed' && \r\n              appointment.status !== 'cancelled');\r\n    } else {\r\n      return appointmentDate < today || \r\n             appointment.status === 'completed' || \r\n             appointment.status === 'cancelled';\r\n    }\r\n  }).sort((a, b) => {\r\n    // Sort by date\r\n    const dateA = new Date(a.date);\r\n    const dateB = new Date(b.date);\r\n    \r\n    if (activeTab === 'upcoming') {\r\n      return dateA - dateB; // Ascending for upcoming\r\n    } else {\r\n      return dateB - dateA; // Descending for past\r\n    }\r\n  });\r\n  \r\n  const renderAppointmentItem = ({ item }) => {\r\n    // Improved date comparison\r\n    const appointmentDate = new Date(item.date);\r\n    const today = new Date();\r\n    today.setHours(0, 0, 0, 0); // Set to start of day\r\n    \r\n    const isPast = appointmentDate < today || \r\n                  item.status === 'completed' || \r\n                  item.status === 'cancelled';\r\n    \r\n    const canCancel = !isPast && \r\n                     (item.status === 'confirmed' || item.status === 'pending');\r\n    \r\n    console.log(`Appointment ${item._id}: date=${appointmentDate.toDateString()}, status=${item.status}, isPast=${isPast}, canCancel=${canCancel}`);\r\n    \r\n    return (\r\n      <Card style={[styles.card, isPast && styles.pastCard]}>\r\n        <Card.Content>\r\n          <View style={styles.headerRow}>\r\n            <Title>{item.service.name}</Title>\r\n            {canCancel && (\r\n              <Chip \r\n                mode=\"outlined\" \r\n                style={styles.actionChip}\r\n                textStyle={{color: '#F44336'}}\r\n              >\r\n                Cancellable\r\n              </Chip>\r\n            )}\r\n          </View>\r\n          \r\n          <View style={styles.row}>\r\n            <Text style={styles.label}>Date:</Text>\r\n            <Text>{format(new Date(item.date), 'MMMM d, yyyy')}</Text>\r\n          </View>\r\n          <View style={styles.row}>\r\n            <Text style={styles.label}>Time:</Text>\r\n            <Text>{item.startTime} - {item.endTime}</Text>\r\n          </View>\r\n          <View style={styles.row}>\r\n            <Text style={styles.label}>Barber:</Text>\r\n            <Text style={styles.barberName}>{item.barber.name}</Text>\r\n          </View>\r\n          <View style={styles.row}>\r\n            <Text style={styles.label}>Price:</Text>\r\n            <Text>${item.service.price}</Text>\r\n          </View>\r\n          \r\n          <View style={styles.statusContainer}>\r\n            <Chip\r\n              style={{\r\n                backgroundColor: \r\n                  item.status === 'confirmed' ? '#4CAF50' :\r\n                  item.status === 'pending' ? '#FFC107' :\r\n                  item.status === 'completed' ? '#3282B8' : '#F44336'\r\n              }}\r\n              textStyle={{ color: 'white' }}\r\n            >\r\n              {item.status.toUpperCase()}\r\n            </Chip>\r\n          </View>\r\n          \r\n          <View style={styles.buttonContainer}>\r\n            {canCancel && (\r\n              <Button\r\n                mode=\"contained\"\r\n                style={styles.cancelButton}\r\n                icon=\"close\"\r\n                color=\"#F44336\"\r\n                onPress={() => promptCancellation(item._id)}\r\n              >\r\n                Cancel\r\n              </Button>\r\n            )}\r\n            \r\n            {/* Add delete button */}\r\n            <Button\r\n              mode=\"outlined\"\r\n              style={styles.deleteButton}\r\n              icon=\"delete\"\r\n              color=\"#FF5722\"\r\n              onPress={() => promptDelete(item._id)}\r\n            >\r\n              Delete\r\n            </Button>\r\n          </View>\r\n        </Card.Content>\r\n      </Card>\r\n    );\r\n  };\r\n  \r\n  if (loading && !refreshing) {\r\n    return (\r\n      <View style={styles.centered}>\r\n        <ActivityIndicator size=\"large\" color=\"#0F4C75\" />\r\n      </View>\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <View style={styles.container}>\r\n      <View style={styles.header}>\r\n        <Text style={styles.headerTitle}>My Appointments</Text>\r\n      </View>\r\n      \r\n      <View style={styles.tabContainer}>\r\n        <Button\r\n          mode={activeTab === 'upcoming' ? 'contained' : 'outlined'}\r\n          onPress={() => setActiveTab('upcoming')}\r\n          style={styles.tabButton}\r\n        >\r\n          Upcoming\r\n        </Button>\r\n        <Button\r\n          mode={activeTab === 'past' ? 'contained' : 'outlined'}\r\n          onPress={() => setActiveTab('past')}\r\n          style={styles.tabButton}\r\n        >\r\n          Past\r\n        </Button>\r\n      </View>\r\n      \r\n      <Divider />\r\n      \r\n      {usingSampleData && (\r\n        <Banner\r\n          visible={true}\r\n          icon=\"information\"\r\n          actions={[\r\n            {\r\n              label: 'Retry',\r\n              onPress: fetchAppointments,\r\n            },\r\n          ]}\r\n        >\r\n          Showing demo appointments. Tap \"Retry\" to attempt loading from server.\r\n        </Banner>\r\n      )}\r\n      \r\n      {error ? (\r\n        <Banner\r\n          visible={true}\r\n          icon=\"alert\"\r\n          actions={[\r\n            {\r\n              label: 'Retry',\r\n              onPress: fetchAppointments,\r\n            },\r\n          ]}\r\n        >\r\n          {error}\r\n        </Banner>\r\n      ) : (\r\n        <>\r\n          <FlatList\r\n            data={filteredAppointments}\r\n            renderItem={renderAppointmentItem}\r\n            keyExtractor={(item) => item._id}\r\n            contentContainerStyle={styles.appointmentsList}\r\n            refreshControl={\r\n              <RefreshControl\r\n                refreshing={refreshing}\r\n                onRefresh={onRefresh}\r\n                colors={['#0F4C75']}\r\n              />\r\n            }\r\n            ListEmptyComponent={\r\n              <View style={styles.emptyContainer}>\r\n                <Text style={styles.emptyText}>\r\n                  {activeTab === 'upcoming'\r\n                    ? \"You don't have any upcoming appointments\"\r\n                    : \"You don't have any past appointments\"}\r\n                </Text>\r\n                {activeTab === 'upcoming' && (\r\n                  <Button\r\n                    mode=\"contained\"\r\n                    style={styles.bookButton}\r\n                    onPress={() => navigation.navigate('Services')}\r\n                  >\r\n                    Book an Appointment\r\n                  </Button>\r\n                )}\r\n              </View>\r\n            }\r\n          />\r\n          \r\n          {activeTab === 'upcoming' && (\r\n            <FAB\r\n              style={styles.fab}\r\n              icon=\"plus\"\r\n              label=\"Book\"\r\n              onPress={() => navigation.navigate('Services')}\r\n            />\r\n          )}\r\n        </>\r\n      )}\r\n      \r\n      <Portal>\r\n        <Dialog visible={dialogVisible} onDismiss={() => setDialogVisible(false)}>\r\n          <Dialog.Title style={styles.dialogTitle}>Confirm Cancellation</Dialog.Title>\r\n          <Dialog.Content>\r\n            <Text style={styles.dialogText}>\r\n              Are you sure you want to cancel this appointment? This action cannot be undone.\r\n            </Text>\r\n            <Text style={styles.dialogSubText}>\r\n              Please provide a reason for cancelling (optional):\r\n            </Text>\r\n            <TextInput\r\n              style={styles.input}\r\n              value={cancellationReason}\r\n              onChangeText={setCancellationReason}\r\n              placeholder=\"e.g., Schedule conflict, illness, etc.\"\r\n              multiline\r\n            />\r\n          </Dialog.Content>\r\n          <Dialog.Actions>\r\n            <Button onPress={() => setDialogVisible(false)} style={styles.dialogButton}>Go Back</Button>\r\n            <Button \r\n              onPress={() => {\r\n                setDialogVisible(false);\r\n                cancelAppointment(appointmentToCancel, cancellationReason);\r\n              }}\r\n              mode=\"contained\"\r\n              color=\"#F44336\"\r\n              style={styles.dialogConfirmButton}\r\n            >\r\n              Confirm Cancellation\r\n            </Button>\r\n          </Dialog.Actions>\r\n        </Dialog>\r\n      </Portal>\r\n    </View>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#f5f5f5',\r\n  },\r\n  centered: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n  },\r\n  errorText: {\r\n    color: '#d32f2f',\r\n    marginBottom: 20,\r\n    textAlign: 'center',\r\n  },\r\n  header: {\r\n    backgroundColor: '#0F4C75',\r\n    padding: 20,\r\n    paddingTop: 50,\r\n    paddingBottom: 20,\r\n  },\r\n  headerTitle: {\r\n    fontSize: 24,\r\n    color: 'white',\r\n    fontWeight: 'bold',\r\n  },\r\n  tabContainer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-around',\r\n    padding: 10,\r\n    backgroundColor: 'white',\r\n  },\r\n  tabButton: {\r\n    flex: 1,\r\n    margin: 5,\r\n  },\r\n  appointmentsList: {\r\n    padding: 15,\r\n    paddingBottom: 80, // Add extra padding at bottom for FAB\r\n  },\r\n  card: {\r\n    marginBottom: 15,\r\n    borderRadius: 10,\r\n    elevation: 3,\r\n  },\r\n  pastCard: {\r\n    opacity: 0.8,\r\n  },\r\n  row: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    marginVertical: 5,\r\n  },\r\n  label: {\r\n    fontWeight: 'bold',\r\n    color: '#666',\r\n  },\r\n  statusContainer: {\r\n    marginTop: 10,\r\n    marginBottom: 15,\r\n    alignItems: 'flex-start',\r\n  },\r\n  cancelButton: {\r\n    marginTop: 15,\r\n    borderColor: '#F44336',\r\n    backgroundColor: '#F44336',\r\n    padding: 5,\r\n    marginHorizontal: 20,\r\n  },\r\n  emptyContainer: {\r\n    padding: 20,\r\n    alignItems: 'center',\r\n  },\r\n  emptyText: {\r\n    fontSize: 16,\r\n    color: 'gray',\r\n    marginBottom: 20,\r\n    textAlign: 'center',\r\n  },\r\n  bookButton: {\r\n    marginTop: 10,\r\n  },\r\n  fab: {\r\n    position: 'absolute',\r\n    margin: 16,\r\n    right: 0,\r\n    bottom: 0,\r\n    backgroundColor: '#0F4C75',\r\n  },\r\n  dialogTitle: {\r\n    fontSize: 20,\r\n    fontWeight: 'bold',\r\n    marginBottom: 10,\r\n  },\r\n  dialogText: {\r\n    marginBottom: 10,\r\n  },\r\n  dialogSubText: {\r\n    marginBottom: 10,\r\n  },\r\n  dialogButton: {\r\n    marginRight: 10,\r\n  },\r\n  dialogConfirmButton: {\r\n    marginLeft: 10,\r\n  },\r\n  input: {\r\n    borderWidth: 1,\r\n    borderColor: '#ddd',\r\n    borderRadius: 5,\r\n    padding: 10,\r\n    marginTop: 5,\r\n    minHeight: 80,\r\n  },\r\n  barberName: {\r\n    fontWeight: 'bold',\r\n  },\r\n  headerRow: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n  },\r\n  actionChip: {\r\n    borderColor: '#F44336',\r\n    backgroundColor: 'white',\r\n  },\r\n  buttonContainer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    marginTop: 10,\r\n  },\r\n  deleteButton: {\r\n    borderColor: '#FF5722',\r\n    backgroundColor: 'white',\r\n  },\r\n});\r\n\r\nexport default AppointmentsScreen; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}