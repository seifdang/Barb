{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import React,{useState,useContext,useEffect}from'react';import View from\"react-native-web/dist/exports/View\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import Alert from\"react-native-web/dist/exports/Alert\";import{Text,Avatar,TextInput,Button,Divider,List,Switch,ActivityIndicator,Card}from'react-native-paper';import{AuthContext}from'../../context/AuthContext';import{useNavigation}from'@react-navigation/native';import AsyncStorage from'@react-native-async-storage/async-storage';import{CommonActions}from'@react-navigation/native';import Ionicons from'react-native-vector-icons/Ionicons';import apiClient from'../../api/client';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";var ProfileScreen=function ProfileScreen(){var _useContext=useContext(AuthContext),userInfo=_useContext.userInfo,updateProfile=_useContext.updateProfile,logout=_useContext.logout,isLoading=_useContext.isLoading;var navigation=useNavigation();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isEditing=_useState2[0],setIsEditing=_useState2[1];var _useState3=useState((userInfo==null?void 0:userInfo.name)||''),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState((userInfo==null?void 0:userInfo.email)||''),_useState6=_slicedToArray(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var _useState7=useState((userInfo==null?void 0:userInfo.phone)||''),_useState8=_slicedToArray(_useState7,2),phone=_useState8[0],setPhone=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),password=_useState10[0],setPassword=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),confirmPassword=_useState12[0],setConfirmPassword=_useState12[1];var _useState13=useState(true),_useState14=_slicedToArray(_useState13,2),notifications=_useState14[0],setNotifications=_useState14[1];var _useState15=useState(false),_useState16=_slicedToArray(_useState15,2),loggingOut=_useState16[0],setLoggingOut=_useState16[1];var _useState17=useState([]),_useState18=_slicedToArray(_useState17,2),salons=_useState18[0],setSalons=_useState18[1];var _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),loadingSalons=_useState20[0],setLoadingSalons=_useState20[1];useEffect(function(){if(userInfo&&(userInfo.role==='manager'||userInfo.role==='barber')){fetchSalons();}},[userInfo]);var fetchSalons=function(){var _ref=_asyncToGenerator(function*(){try{setLoadingSalons(true);var endpoint=userInfo.role==='manager'?'/manager/salons':`/users/barber/${userInfo._id}/salons`;var response=yield apiClient.get(endpoint,{headers:{Authorization:`Bearer ${userInfo.token}`}});if(response.data&&response.data.success){setSalons(response.data.salons||[]);}else{console.error('Failed to load salons:',response.data);}setLoadingSalons(false);}catch(error){console.error('Error fetching salons:',error);setLoadingSalons(false);}});return function fetchSalons(){return _ref.apply(this,arguments);};}();var handleSaveProfile=function(){var _ref2=_asyncToGenerator(function*(){if(!name.trim()){Alert.alert('Error','Please enter your name');return;}if(password&&password!==confirmPassword){Alert.alert('Error','Passwords do not match');return;}try{var userData={name:name,phone:phone};if(password){userData.password=password;}var result=yield updateProfile(userData);if(result.success){Alert.alert('Success','Profile updated successfully');setIsEditing(false);setPassword('');setConfirmPassword('');}else{Alert.alert('Error',result.message||'Failed to update profile');}}catch(error){Alert.alert('Error','Something went wrong. Please try again.');console.error('Profile update error:',error);}});return function handleSaveProfile(){return _ref2.apply(this,arguments);};}();var handleLogout=function handleLogout(){setLoggingOut(true);try{var keysToRemove=['userInfo','userToken'];AsyncStorage.multiRemove(keysToRemove,function(err){if(err){console.error('Error removing keys:',err);}else{console.log('Successfully removed keys');}try{navigation.reset({index:0,routes:[{name:'Auth'}]});}catch(navError){console.error('Navigation reset error:',navError);try{navigation.navigate('Login');}catch(navError2){console.error('Navigation error:',navError2);}}});}catch(error){console.error('General logout error:',error);navigation.navigate('Login');}};if(!userInfo){return _jsx(View,{style:styles.centered,children:_jsx(ActivityIndicator,{size:\"large\",color:\"#0F4C75\"})});}return _jsxs(ScrollView,{style:styles.container,children:[_jsxs(View,{style:styles.header,children:[_jsx(Avatar.Image,{size:100,source:{uri:userInfo.profileImage||'https://via.placeholder.com/100'},style:styles.avatar}),_jsx(Text,{style:styles.name,children:userInfo.name}),_jsx(Text,{style:styles.role,children:userInfo.role.charAt(0).toUpperCase()+userInfo.role.slice(1)}),!isEditing&&_jsx(Button,{mode:\"outlined\",style:styles.editButton,onPress:function onPress(){return setIsEditing(true);},children:\"Edit Profile\"}),userInfo.role==='admin'||userInfo.email==='seif.ayadi.3.9.2@gmail.com'?_jsx(Button,{mode:\"contained\",style:styles.adminButton,onPress:function onPress(){return navigation.navigate('AdminDashboard');},children:\"Admin Dashboard\"}):null,userInfo.role==='manager'?_jsxs(_Fragment,{children:[_jsx(Button,{mode:\"contained\",style:styles.adminButton,onPress:function onPress(){return navigation.navigate('ManagerDashboard');},children:\"Staff Dashboard\"}),_jsx(Button,{mode:\"contained\",style:[styles.adminButton,{marginTop:10}],onPress:function onPress(){return navigation.navigate('SalonDashboard');},children:\"Salon Dashboard\"})]}):null]}),_jsxs(View,{style:styles.content,children:[isEditing?_jsxs(View,{style:styles.form,children:[_jsx(TextInput,{label:\"Name\",value:name,onChangeText:setName,mode:\"outlined\",style:styles.input}),_jsx(TextInput,{label:\"Email\",value:email,onChangeText:setEmail,mode:\"outlined\",style:styles.input,disabled:true}),_jsx(TextInput,{label:\"Phone\",value:phone,onChangeText:setPhone,mode:\"outlined\",style:styles.input,keyboardType:\"phone-pad\"}),_jsx(TextInput,{label:\"New Password (leave blank to keep current)\",value:password,onChangeText:setPassword,mode:\"outlined\",style:styles.input,secureTextEntry:true}),_jsx(TextInput,{label:\"Confirm New Password\",value:confirmPassword,onChangeText:setConfirmPassword,mode:\"outlined\",style:styles.input,secureTextEntry:true}),_jsxs(View,{style:styles.buttonContainer,children:[_jsx(Button,{mode:\"outlined\",onPress:function onPress(){setIsEditing(false);setName(userInfo.name);setEmail(userInfo.email);setPhone(userInfo.phone||'');setPassword('');setConfirmPassword('');},style:styles.cancelButton,children:\"Cancel\"}),_jsx(Button,{mode:\"contained\",onPress:handleSaveProfile,loading:isLoading,disabled:isLoading,style:styles.saveButton,children:\"Save\"})]})]}):_jsx(_Fragment,{children:_jsxs(List.Section,{children:[_jsx(List.Subheader,{children:\"Account Information\"}),_jsx(List.Item,{title:\"Email\",description:userInfo.email,left:function left(props){return _jsx(List.Icon,_objectSpread(_objectSpread({},props),{},{icon:\"email\"}));}}),_jsx(List.Item,{title:\"Phone\",description:userInfo.phone||'Not provided',left:function left(props){return _jsx(List.Icon,_objectSpread(_objectSpread({},props),{},{icon:\"phone\"}));}}),_jsx(Divider,{}),_jsx(List.Subheader,{children:\"Preferences\"}),_jsx(List.Item,{title:\"Notifications\",left:function left(props){return _jsx(List.Icon,_objectSpread(_objectSpread({},props),{},{icon:\"bell\"}));},right:function right(){return _jsx(Switch,{value:notifications,onValueChange:setNotifications,color:\"#0F4C75\"});}}),_jsx(Divider,{}),_jsx(List.Subheader,{children:\"About\"}),_jsx(List.Item,{title:\"Terms of Service\",left:function left(props){return _jsx(List.Icon,_objectSpread(_objectSpread({},props),{},{icon:\"file-document\"}));},onPress:function onPress(){}}),_jsx(List.Item,{title:\"Privacy Policy\",left:function left(props){return _jsx(List.Icon,_objectSpread(_objectSpread({},props),{},{icon:\"shield-account\"}));},onPress:function onPress(){}}),_jsx(List.Item,{title:\"App Version\",description:\"1.0.0\",left:function left(props){return _jsx(List.Icon,_objectSpread(_objectSpread({},props),{},{icon:\"information\"}));}})]})}),userInfo&&(userInfo.role==='manager'||userInfo.role==='barber')&&_jsxs(Card,{style:styles.card,children:[_jsx(Card.Title,{title:\"Your Salons\"}),_jsx(Card.Content,{children:loadingSalons?_jsx(ActivityIndicator,{size:\"small\",color:\"#0F4C75\"}):salons.length>0?_jsx(View,{children:salons.map(function(salon){var _salon$address,_salon$address2;return _jsxs(TouchableOpacity,{onPress:function onPress(){return navigation.navigate('SalonDashboard',{salonId:salon._id});},style:styles.salonItem,children:[_jsxs(View,{style:styles.salonInfo,children:[_jsx(Text,{style:styles.salonName,children:salon.name}),_jsxs(Text,{style:styles.salonAddress,children:[(_salon$address=salon.address)==null?void 0:_salon$address.street,\", \",(_salon$address2=salon.address)==null?void 0:_salon$address2.city]})]}),_jsx(Ionicons,{name:\"chevron-forward\",size:20,color:\"#888\"})]},salon._id);})}):_jsx(Text,{children:\"No salons associated with your account\"})})]}),_jsx(TouchableOpacity,{style:styles.directLogoutButton,activeOpacity:0.6,onPress:function onPress(){console.log(\"FORCE LOGOUT - no navigation approach\");AsyncStorage.clear();if(typeof window!=='undefined'){console.log(\"Reloading browser\");window.location.reload();return;}if(logout){logout();}Alert.alert(\"Logout Complete\",\"Please restart the app to complete logout\",[{text:\"OK\"}]);},children:_jsx(Text,{style:styles.logoutButtonText,children:\"LOGOUT\"})})]})]});};var styles=StyleSheet.create({container:{flex:1,backgroundColor:'#f5f5f5'},centered:{flex:1,justifyContent:'center',alignItems:'center',padding:20},header:{alignItems:'center',padding:20,paddingTop:50,backgroundColor:'white'},avatar:{marginBottom:10},name:{fontSize:22,fontWeight:'bold',color:'#1B262C'},role:{fontSize:16,color:'#3282B8',marginBottom:10},editButton:{marginVertical:10,borderColor:'#0F4C75',borderWidth:1},adminButton:{marginTop:10,backgroundColor:'#0F4C75'},content:{padding:15},form:{marginVertical:10},input:{marginBottom:15,backgroundColor:'white'},buttonContainer:{flexDirection:'row',justifyContent:'space-between',marginTop:10},cancelButton:{flex:1,marginRight:10},saveButton:{flex:1,marginLeft:10},logoutButton:{marginVertical:30,borderColor:'#d32f2f',borderWidth:1},directLogoutButton:{marginVertical:30,borderColor:'#d32f2f',borderWidth:1,backgroundColor:'#d32f2f',padding:15,borderRadius:5,alignItems:'center'},logoutButtonText:{color:'white',fontWeight:'bold',fontSize:16},card:{marginTop:10},salonItem:{flexDirection:'row',alignItems:'center',justifyContent:'space-between',paddingVertical:10,borderBottomWidth:1,borderBottomColor:'#eee'},salonInfo:{flex:1},salonName:{fontSize:16,fontWeight:'bold'},salonAddress:{fontSize:14,color:'#666',marginTop:3}});export default ProfileScreen;","map":{"version":3,"names":["React","useState","useContext","useEffect","View","StyleSheet","ScrollView","TouchableOpacity","Alert","Text","Avatar","TextInput","Button","Divider","List","Switch","ActivityIndicator","Card","AuthContext","useNavigation","AsyncStorage","CommonActions","Ionicons","apiClient","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ProfileScreen","_useContext","userInfo","updateProfile","logout","isLoading","navigation","_useState","_useState2","_slicedToArray","isEditing","setIsEditing","_useState3","name","_useState4","setName","_useState5","email","_useState6","setEmail","_useState7","phone","_useState8","setPhone","_useState9","_useState10","password","setPassword","_useState11","_useState12","confirmPassword","setConfirmPassword","_useState13","_useState14","notifications","setNotifications","_useState15","_useState16","loggingOut","setLoggingOut","_useState17","_useState18","salons","setSalons","_useState19","_useState20","loadingSalons","setLoadingSalons","role","fetchSalons","_ref","_asyncToGenerator","endpoint","_id","response","get","headers","Authorization","token","data","success","console","error","apply","arguments","handleSaveProfile","_ref2","trim","alert","userData","result","message","handleLogout","keysToRemove","multiRemove","err","log","reset","index","routes","navError","navigate","navError2","style","styles","centered","children","size","color","container","header","Image","source","uri","profileImage","avatar","charAt","toUpperCase","slice","mode","editButton","onPress","adminButton","marginTop","content","form","label","value","onChangeText","input","disabled","keyboardType","secureTextEntry","buttonContainer","cancelButton","loading","saveButton","Section","Subheader","Item","title","description","left","props","Icon","_objectSpread","icon","right","onValueChange","card","Title","Content","length","map","salon","_salon$address","_salon$address2","salonId","salonItem","salonInfo","salonName","salonAddress","address","street","city","directLogoutButton","activeOpacity","clear","window","location","reload","text","logoutButtonText","create","flex","backgroundColor","justifyContent","alignItems","padding","paddingTop","marginBottom","fontSize","fontWeight","marginVertical","borderColor","borderWidth","flexDirection","marginRight","marginLeft","logoutButton","borderRadius","paddingVertical","borderBottomWidth","borderBottomColor"],"sources":["C:/Users/User/Downloads/git_frontend/mobile/screens/customer/ProfileScreen.js"],"sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport { View, StyleSheet, ScrollView, TouchableOpacity, Alert } from 'react-native';\r\nimport { Text, Avatar, TextInput, Button, Divider, List, Switch, ActivityIndicator, Card } from 'react-native-paper';\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { CommonActions } from '@react-navigation/native';\r\nimport Ionicons from 'react-native-vector-icons/Ionicons';\r\nimport apiClient from '../../api/client';\r\n\r\nconst ProfileScreen = () => {\r\n  const { userInfo, updateProfile, logout, isLoading } = useContext(AuthContext);\r\n  const navigation = useNavigation();\r\n  \r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [name, setName] = useState(userInfo?.name || '');\r\n  const [email, setEmail] = useState(userInfo?.email || '');\r\n  const [phone, setPhone] = useState(userInfo?.phone || '');\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [notifications, setNotifications] = useState(true);\r\n  const [loggingOut, setLoggingOut] = useState(false);\r\n  \r\n  // Get salon info for managers and barbers\r\n  const [salons, setSalons] = useState([]);\r\n  const [loadingSalons, setLoadingSalons] = useState(false);\r\n  \r\n  // Fetch salons for managers and barbers\r\n  useEffect(() => {\r\n    if (userInfo && (userInfo.role === 'manager' || userInfo.role === 'barber')) {\r\n      fetchSalons();\r\n    }\r\n  }, [userInfo]);\r\n  \r\n  const fetchSalons = async () => {\r\n    try {\r\n      setLoadingSalons(true);\r\n      \r\n      // Different endpoints based on role\r\n      const endpoint = userInfo.role === 'manager' \r\n        ? '/manager/salons' \r\n        : `/users/barber/${userInfo._id}/salons`;\r\n      \r\n      const response = await apiClient.get(endpoint, {\r\n        headers: {\r\n          Authorization: `Bearer ${userInfo.token}`\r\n        }\r\n      });\r\n      \r\n      if (response.data && response.data.success) {\r\n        setSalons(response.data.salons || []);\r\n      } else {\r\n        console.error('Failed to load salons:', response.data);\r\n      }\r\n      \r\n      setLoadingSalons(false);\r\n    } catch (error) {\r\n      console.error('Error fetching salons:', error);\r\n      setLoadingSalons(false);\r\n    }\r\n  };\r\n  \r\n  const handleSaveProfile = async () => {\r\n    // Validate input\r\n    if (!name.trim()) {\r\n      Alert.alert('Error', 'Please enter your name');\r\n      return;\r\n    }\r\n    \r\n    if (password && password !== confirmPassword) {\r\n      Alert.alert('Error', 'Passwords do not match');\r\n      return;\r\n    }\r\n    \r\n    try {\r\n      const userData = {\r\n        name,\r\n        phone,\r\n      };\r\n      \r\n      // Only include password if it was updated\r\n      if (password) {\r\n        userData.password = password;\r\n      }\r\n      \r\n      // Email can't be updated in this version\r\n      // userData.email = email;\r\n      \r\n      const result = await updateProfile(userData);\r\n      \r\n      if (result.success) {\r\n        Alert.alert('Success', 'Profile updated successfully');\r\n        setIsEditing(false);\r\n        setPassword('');\r\n        setConfirmPassword('');\r\n      } else {\r\n        Alert.alert('Error', result.message || 'Failed to update profile');\r\n      }\r\n    } catch (error) {\r\n      Alert.alert('Error', 'Something went wrong. Please try again.');\r\n      console.error('Profile update error:', error);\r\n    }\r\n  };\r\n  \r\n  const handleLogout = () => {\r\n    // Show immediate feedback\r\n    setLoggingOut(true);\r\n    \r\n    // Skip the context logout and directly handle it\r\n    try {\r\n      // Clear only the essential auth keys, don't touch other app settings\r\n      const keysToRemove = ['userInfo', 'userToken'];\r\n      \r\n      AsyncStorage.multiRemove(keysToRemove, (err) => {\r\n        if (err) {\r\n          console.error('Error removing keys:', err);\r\n        } else {\r\n          console.log('Successfully removed keys');\r\n        }\r\n        \r\n        // In any case, try to navigate away\r\n        try {\r\n          // Use the more direct navigation first\r\n          navigation.reset({\r\n            index: 0,\r\n            routes: [{ name: 'Auth' }]\r\n          });\r\n        } catch (navError) {\r\n          console.error('Navigation reset error:', navError);\r\n          \r\n          // Fallback to simpler navigation\r\n          try {\r\n            navigation.navigate('Login');\r\n          } catch (navError2) {\r\n            console.error('Navigation error:', navError2);\r\n          }\r\n        }\r\n      });\r\n    } catch (error) {\r\n      console.error('General logout error:', error);\r\n      // Still try to navigate away even if there was an error\r\n      navigation.navigate('Login');\r\n    }\r\n  };\r\n  \r\n  if (!userInfo) {\r\n    return (\r\n      <View style={styles.centered}>\r\n        <ActivityIndicator size=\"large\" color=\"#0F4C75\" />\r\n      </View>\r\n    );\r\n  }\r\n  \r\n  return (\r\n    <ScrollView style={styles.container}>\r\n      <View style={styles.header}>\r\n        <Avatar.Image \r\n          size={100} \r\n          source={{ uri: userInfo.profileImage || 'https://via.placeholder.com/100' }} \r\n          style={styles.avatar}\r\n        />\r\n        <Text style={styles.name}>{userInfo.name}</Text>\r\n        <Text style={styles.role}>{userInfo.role.charAt(0).toUpperCase() + userInfo.role.slice(1)}</Text>\r\n        \r\n        {!isEditing && (\r\n          <Button \r\n            mode=\"outlined\" \r\n            style={styles.editButton}\r\n            onPress={() => setIsEditing(true)}\r\n          >\r\n            Edit Profile\r\n          </Button>\r\n        )}\r\n\r\n        {/* Admin Dashboard Button - Only show for admin users or specific email */}\r\n        {userInfo.role === 'admin' || userInfo.email === 'seif.ayadi.3.9.2@gmail.com' ? (\r\n          <Button \r\n            mode=\"contained\" \r\n            style={styles.adminButton}\r\n            onPress={() => navigation.navigate('AdminDashboard')}\r\n          >\r\n            Admin Dashboard\r\n          </Button>\r\n        ) : null}\r\n\r\n        {/* Manager Dashboard Button - Only show for manager users */}\r\n        {userInfo.role === 'manager' ? (\r\n          <>\r\n            <Button \r\n              mode=\"contained\" \r\n              style={styles.adminButton}\r\n              onPress={() => navigation.navigate('ManagerDashboard')}\r\n            >\r\n              Staff Dashboard\r\n            </Button>\r\n            <Button \r\n              mode=\"contained\" \r\n              style={[styles.adminButton, { marginTop: 10 }]}\r\n              onPress={() => navigation.navigate('SalonDashboard')}\r\n            >\r\n              Salon Dashboard\r\n            </Button>\r\n          </>\r\n        ) : null}\r\n      </View>\r\n      \r\n      <View style={styles.content}>\r\n        {isEditing ? (\r\n          <View style={styles.form}>\r\n            <TextInput\r\n              label=\"Name\"\r\n              value={name}\r\n              onChangeText={setName}\r\n              mode=\"outlined\"\r\n              style={styles.input}\r\n            />\r\n            \r\n            <TextInput\r\n              label=\"Email\"\r\n              value={email}\r\n              onChangeText={setEmail}\r\n              mode=\"outlined\"\r\n              style={styles.input}\r\n              disabled\r\n              // Email change is disabled in this version\r\n            />\r\n            \r\n            <TextInput\r\n              label=\"Phone\"\r\n              value={phone}\r\n              onChangeText={setPhone}\r\n              mode=\"outlined\"\r\n              style={styles.input}\r\n              keyboardType=\"phone-pad\"\r\n            />\r\n            \r\n            <TextInput\r\n              label=\"New Password (leave blank to keep current)\"\r\n              value={password}\r\n              onChangeText={setPassword}\r\n              mode=\"outlined\"\r\n              style={styles.input}\r\n              secureTextEntry\r\n            />\r\n            \r\n            <TextInput\r\n              label=\"Confirm New Password\"\r\n              value={confirmPassword}\r\n              onChangeText={setConfirmPassword}\r\n              mode=\"outlined\"\r\n              style={styles.input}\r\n              secureTextEntry\r\n            />\r\n            \r\n            <View style={styles.buttonContainer}>\r\n              <Button \r\n                mode=\"outlined\" \r\n                onPress={() => {\r\n                  setIsEditing(false);\r\n                  setName(userInfo.name);\r\n                  setEmail(userInfo.email);\r\n                  setPhone(userInfo.phone || '');\r\n                  setPassword('');\r\n                  setConfirmPassword('');\r\n                }}\r\n                style={styles.cancelButton}\r\n              >\r\n                Cancel\r\n              </Button>\r\n              \r\n              <Button \r\n                mode=\"contained\" \r\n                onPress={handleSaveProfile}\r\n                loading={isLoading}\r\n                disabled={isLoading}\r\n                style={styles.saveButton}\r\n              >\r\n                Save\r\n              </Button>\r\n            </View>\r\n          </View>\r\n        ) : (\r\n          <>\r\n            <List.Section>\r\n              <List.Subheader>Account Information</List.Subheader>\r\n              <List.Item\r\n                title=\"Email\"\r\n                description={userInfo.email}\r\n                left={props => <List.Icon {...props} icon=\"email\" />}\r\n              />\r\n              <List.Item\r\n                title=\"Phone\"\r\n                description={userInfo.phone || 'Not provided'}\r\n                left={props => <List.Icon {...props} icon=\"phone\" />}\r\n              />\r\n              <Divider />\r\n              \r\n              <List.Subheader>Preferences</List.Subheader>\r\n              <List.Item\r\n                title=\"Notifications\"\r\n                left={props => <List.Icon {...props} icon=\"bell\" />}\r\n                right={() => (\r\n                  <Switch\r\n                    value={notifications}\r\n                    onValueChange={setNotifications}\r\n                    color=\"#0F4C75\"\r\n                  />\r\n                )}\r\n              />\r\n              <Divider />\r\n              \r\n              <List.Subheader>About</List.Subheader>\r\n              <List.Item\r\n                title=\"Terms of Service\"\r\n                left={props => <List.Icon {...props} icon=\"file-document\" />}\r\n                onPress={() => {}}\r\n              />\r\n              <List.Item\r\n                title=\"Privacy Policy\"\r\n                left={props => <List.Icon {...props} icon=\"shield-account\" />}\r\n                onPress={() => {}}\r\n              />\r\n              <List.Item\r\n                title=\"App Version\"\r\n                description=\"1.0.0\"\r\n                left={props => <List.Icon {...props} icon=\"information\" />}\r\n              />\r\n            </List.Section>\r\n          </>\r\n        )}\r\n        \r\n        {/* Salon Section - Only for managers and barbers */}\r\n        {userInfo && (userInfo.role === 'manager' || userInfo.role === 'barber') && (\r\n          <Card style={styles.card}>\r\n            <Card.Title title=\"Your Salons\" />\r\n            <Card.Content>\r\n              {loadingSalons ? (\r\n                <ActivityIndicator size=\"small\" color=\"#0F4C75\" />\r\n              ) : salons.length > 0 ? (\r\n                <View>\r\n                  {salons.map((salon) => (\r\n                    <TouchableOpacity \r\n                      key={salon._id}\r\n                      onPress={() => navigation.navigate('SalonDashboard', { salonId: salon._id })}\r\n                      style={styles.salonItem}\r\n                    >\r\n                      <View style={styles.salonInfo}>\r\n                        <Text style={styles.salonName}>{salon.name}</Text>\r\n                        <Text style={styles.salonAddress}>\r\n                          {salon.address?.street}, {salon.address?.city}\r\n                        </Text>\r\n                      </View>\r\n                      <Ionicons name=\"chevron-forward\" size={20} color=\"#888\" />\r\n                    </TouchableOpacity>\r\n                  ))}\r\n                </View>\r\n              ) : (\r\n                <Text>No salons associated with your account</Text>\r\n              )}\r\n            </Card.Content>\r\n          </Card>\r\n        )}\r\n        \r\n        <TouchableOpacity\r\n          style={styles.directLogoutButton}\r\n          activeOpacity={0.6}\r\n          onPress={() => {\r\n            console.log(\"FORCE LOGOUT - no navigation approach\");\r\n            \r\n            // 1. Clear storage directly\r\n            AsyncStorage.clear();\r\n            \r\n            // 2. For web - force reload the app which will show login screen\r\n            if (typeof window !== 'undefined') {\r\n              console.log(\"Reloading browser\");\r\n              window.location.reload();\r\n              return;\r\n            }\r\n            \r\n            // 3. For native - trigger a state update in parent components\r\n            if (logout) {\r\n              logout();\r\n            }\r\n            \r\n            // 4. Alert the user as a last resort\r\n            Alert.alert(\r\n              \"Logout Complete\", \r\n              \"Please restart the app to complete logout\",\r\n              [{ text: \"OK\" }]\r\n            );\r\n          }}\r\n        >\r\n          <Text style={styles.logoutButtonText}>LOGOUT</Text>\r\n        </TouchableOpacity>\r\n      </View>\r\n    </ScrollView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#f5f5f5',\r\n  },\r\n  centered: {\r\n    flex: 1,\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n    padding: 20,\r\n  },\r\n  header: {\r\n    alignItems: 'center',\r\n    padding: 20,\r\n    paddingTop: 50,\r\n    backgroundColor: 'white',\r\n  },\r\n  avatar: {\r\n    marginBottom: 10,\r\n  },\r\n  name: {\r\n    fontSize: 22,\r\n    fontWeight: 'bold',\r\n    color: '#1B262C',\r\n  },\r\n  role: {\r\n    fontSize: 16,\r\n    color: '#3282B8',\r\n    marginBottom: 10,\r\n  },\r\n  editButton: {\r\n    marginVertical: 10,\r\n    borderColor: '#0F4C75',\r\n    borderWidth: 1,\r\n  },\r\n  adminButton: {\r\n    marginTop: 10,\r\n    backgroundColor: '#0F4C75',\r\n  },\r\n  content: {\r\n    padding: 15,\r\n  },\r\n  form: {\r\n    marginVertical: 10,\r\n  },\r\n  input: {\r\n    marginBottom: 15,\r\n    backgroundColor: 'white',\r\n  },\r\n  buttonContainer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    marginTop: 10,\r\n  },\r\n  cancelButton: {\r\n    flex: 1,\r\n    marginRight: 10,\r\n  },\r\n  saveButton: {\r\n    flex: 1,\r\n    marginLeft: 10,\r\n  },\r\n  logoutButton: {\r\n    marginVertical: 30,\r\n    borderColor: '#d32f2f',\r\n    borderWidth: 1,\r\n  },\r\n  directLogoutButton: {\r\n    marginVertical: 30,\r\n    borderColor: '#d32f2f',\r\n    borderWidth: 1,\r\n    backgroundColor: '#d32f2f',\r\n    padding: 15,\r\n    borderRadius: 5,\r\n    alignItems: 'center',\r\n  },\r\n  logoutButtonText: {\r\n    color: 'white',\r\n    fontWeight: 'bold',\r\n    fontSize: 16,\r\n  },\r\n  card: {\r\n    marginTop: 10,\r\n  },\r\n  salonItem: {\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    paddingVertical: 10,\r\n    borderBottomWidth: 1,\r\n    borderBottomColor: '#eee',\r\n  },\r\n  salonInfo: {\r\n    flex: 1,\r\n  },\r\n  salonName: {\r\n    fontSize: 16,\r\n    fontWeight: 'bold',\r\n  },\r\n  salonAddress: {\r\n    fontSize: 14,\r\n    color: '#666',\r\n    marginTop: 3,\r\n  },\r\n});\r\n\r\nexport default ProfileScreen; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}