{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _asyncToGenerator from\"@babel/runtime/helpers/asyncToGenerator\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable;})),t.push.apply(t,o);}return t;}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){_defineProperty(e,r,t[r]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));});}return e;}import React,{createContext,useState,useEffect}from'react';import AsyncStorage from'@react-native-async-storage/async-storage';import axios from'axios';import apiClient from'../api/client';import{jsx as _jsx}from\"react/jsx-runtime\";var getApiUrl=function getApiUrl(){var baseUrl=apiClient.defaults.baseURL;if(baseUrl.endsWith('/api')){return baseUrl;}return baseUrl.endsWith('/')?`${baseUrl}api`:`${baseUrl}/api`;};var API_URL=getApiUrl();export var AuthContext=createContext();export var AuthProvider=function AuthProvider(_ref){var children=_ref.children;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),userToken=_useState4[0],setUserToken=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),userInfo=_useState6[0],setUserInfo=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var createTestUser=function(){var _ref2=_asyncToGenerator(function*(){try{console.log('Creating test user account...');yield apiClient.post('/users/register',{name:'Test User',email:'test@example.com',password:'password123',phone:'123-456-7890',role:'customer'});console.log('Test user created or already exists');}catch(error){var _error$response,_error$response2,_error$response2$data,_error$response2$data2;if(((_error$response=error.response)==null?void 0:_error$response.status)===400&&(_error$response2=error.response)!=null&&(_error$response2$data=_error$response2.data)!=null&&(_error$response2$data2=_error$response2$data.message)!=null&&_error$response2$data2.includes('already exists')){console.log('Test user already exists');}else{var _error$response3;console.error('Error creating test user:',((_error$response3=error.response)==null?void 0:_error$response3.data)||error.message);}}});return function createTestUser(){return _ref2.apply(this,arguments);};}();var login=function(){var _ref3=_asyncToGenerator(function*(email,password){setIsLoading(true);setError(null);try{console.log(`Attempting login with ${email}`);var response=yield apiClient.post('/users/login',{email:email,password:password});var data=response.data;console.log('Login response:',JSON.stringify(data));if(data.success){var userWithToken=_objectSpread(_objectSpread({},data.user),{},{token:data.token||data.user.token});console.log('Setting user info with token:',userWithToken.token);setUserInfo(userWithToken);setUserToken(userWithToken.token);yield AsyncStorage.setItem('userInfo',JSON.stringify(userWithToken));yield AsyncStorage.setItem('userToken',userWithToken.token);var savedUserInfo=yield AsyncStorage.getItem('userInfo');var savedToken=yield AsyncStorage.getItem('userToken');console.log('Saved user info:',savedUserInfo?'Yes':'No');console.log('Saved token:',savedToken?'Yes':'No');}setIsLoading(false);return data;}catch(error){var _error$response4,_error$response5,_error$response5$data,_error$response6,_error$response6$data;console.error('Login error:',((_error$response4=error.response)==null?void 0:_error$response4.data)||error.message);setIsLoading(false);setError(((_error$response5=error.response)==null?void 0:(_error$response5$data=_error$response5.data)==null?void 0:_error$response5$data.message)||'An error occurred during login');return{success:false,message:((_error$response6=error.response)==null?void 0:(_error$response6$data=_error$response6.data)==null?void 0:_error$response6$data.message)||'Login failed'};}});return function login(_x,_x2){return _ref3.apply(this,arguments);};}();var register=function(){var _ref4=_asyncToGenerator(function*(userData){setIsLoading(true);setError(null);try{console.log(`Registering user: ${userData.email}`);var response=yield apiClient.post('/users/register',userData);var data=response.data;console.log('Register response:',data);if(data.success){setUserInfo(data.user);setUserToken(data.user.token);yield AsyncStorage.setItem('userInfo',JSON.stringify(data.user));yield AsyncStorage.setItem('userToken',data.user.token);}setIsLoading(false);return data;}catch(error){var _error$response7,_error$response8,_error$response8$data,_error$response9,_error$response9$data;console.error('Registration error:',((_error$response7=error.response)==null?void 0:_error$response7.data)||error.message);setIsLoading(false);setError(((_error$response8=error.response)==null?void 0:(_error$response8$data=_error$response8.data)==null?void 0:_error$response8$data.message)||'An error occurred during registration');return{success:false,message:((_error$response9=error.response)==null?void 0:(_error$response9$data=_error$response9.data)==null?void 0:_error$response9$data.message)||'Registration failed'};}});return function register(_x3){return _ref4.apply(this,arguments);};}();var logout=function(){var _ref5=_asyncToGenerator(function*(){try{console.log('=== LOGOUT STARTED ===');setIsLoading(true);var keys=['userInfo','userToken'];console.log('Clearing AsyncStorage keys:',keys);for(var key of keys){yield AsyncStorage.removeItem(key);console.log(`Removed key: ${key}`);}var checkUserInfo=yield AsyncStorage.getItem('userInfo');var checkUserToken=yield AsyncStorage.getItem('userToken');console.log('After removal - userInfo exists:',!!checkUserInfo);console.log('After removal - userToken exists:',!!checkUserToken);console.log('Clearing React state...');setUserToken(null);setUserInfo(null);yield new Promise(function(resolve){return setTimeout(resolve,800);});console.log('=== LOGOUT COMPLETED ===');setIsLoading(false);return{success:true,message:'Logout successful'};}catch(error){console.error('Logout error:',error);setIsLoading(false);setUserToken(null);setUserInfo(null);return{success:false,message:'Error during logout, but state was cleared'};}});return function logout(){return _ref5.apply(this,arguments);};}();var updateProfile=function(){var _ref6=_asyncToGenerator(function*(userData){setIsLoading(true);setError(null);try{var response=yield apiClient.put('/users/profile',userData);var data=response.data;if(data.success){setUserInfo(data.user);yield AsyncStorage.setItem('userInfo',JSON.stringify(data.user));}setIsLoading(false);return data;}catch(error){var _error$response10,_error$response11,_error$response11$dat,_error$response12,_error$response12$dat;console.error('Profile update error:',((_error$response10=error.response)==null?void 0:_error$response10.data)||error.message);setIsLoading(false);setError(((_error$response11=error.response)==null?void 0:(_error$response11$dat=_error$response11.data)==null?void 0:_error$response11$dat.message)||'An error occurred while updating profile');return{success:false,message:((_error$response12=error.response)==null?void 0:(_error$response12$dat=_error$response12.data)==null?void 0:_error$response12$dat.message)||'Profile update failed'};}});return function updateProfile(_x4){return _ref6.apply(this,arguments);};}();var isLoggedIn=function(){var _ref7=_asyncToGenerator(function*(){try{setIsLoading(true);var _userInfo=yield AsyncStorage.getItem('userInfo');var _userToken=yield AsyncStorage.getItem('userToken');_userInfo=JSON.parse(_userInfo);if(_userInfo){console.log('User is logged in:',_userInfo.name);setUserToken(_userToken);setUserInfo(_userInfo);}else{console.log('No user logged in');}setIsLoading(false);}catch(error){console.log('isLogged in error:',error);setIsLoading(false);}});return function isLoggedIn(){return _ref7.apply(this,arguments);};}();useEffect(function(){isLoggedIn();createTestUser();},[]);return _jsx(AuthContext.Provider,{value:{isLoading:isLoading,userToken:userToken,userInfo:userInfo,error:error,login:login,register:register,logout:logout,updateProfile:updateProfile,createTestUser:createTestUser},children:children});};","map":{"version":3,"names":["React","createContext","useState","useEffect","AsyncStorage","axios","apiClient","jsx","_jsx","getApiUrl","baseUrl","defaults","baseURL","endsWith","API_URL","AuthContext","AuthProvider","_ref","children","_useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","userToken","setUserToken","_useState5","_useState6","userInfo","setUserInfo","_useState7","_useState8","error","setError","createTestUser","_ref2","_asyncToGenerator","console","log","post","name","email","password","phone","role","_error$response","_error$response2","_error$response2$data","_error$response2$data2","response","status","data","message","includes","_error$response3","apply","arguments","login","_ref3","JSON","stringify","success","userWithToken","_objectSpread","user","token","setItem","savedUserInfo","getItem","savedToken","_error$response4","_error$response5","_error$response5$data","_error$response6","_error$response6$data","_x","_x2","register","_ref4","userData","_error$response7","_error$response8","_error$response8$data","_error$response9","_error$response9$data","_x3","logout","_ref5","keys","key","removeItem","checkUserInfo","checkUserToken","Promise","resolve","setTimeout","updateProfile","_ref6","put","_error$response10","_error$response11","_error$response11$dat","_error$response12","_error$response12$dat","_x4","isLoggedIn","_ref7","parse","Provider","value"],"sources":["C:/Users/User/Downloads/git_frontend/mobile/context/AuthContext.js"],"sourcesContent":["import React, { createContext, useState, useEffect } from 'react';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport axios from 'axios';\n\n// Import apiClient pour utiliser la configuration centralisée\nimport apiClient from '../api/client';\n\n// Fonction pour obtenir l'URL de l'API\nconst getApiUrl = () => {\n  // Utiliser la baseURL de l'instance apiClient\n  const baseUrl = apiClient.defaults.baseURL;\n  \n  // Si baseURL se termine par /api, l'utiliser directement\n  if (baseUrl.endsWith('/api')) {\n    return baseUrl;\n  }\n  \n  // Sinon, ajouter /api si nécessaire\n  return baseUrl.endsWith('/') ? `${baseUrl}api` : `${baseUrl}/api`;\n};\n\n// Obtenir l'URL de l'API\nconst API_URL = getApiUrl();\n\nexport const AuthContext = createContext();\n\nexport const AuthProvider = ({ children }) => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [userToken, setUserToken] = useState(null);\n  const [userInfo, setUserInfo] = useState(null);\n  const [error, setError] = useState(null);\n\n  // Create a test user if none exists\n  const createTestUser = async () => {\n    try {\n      console.log('Creating test user account...');\n      await apiClient.post('/users/register', {\n        name: 'Test User',\n        email: 'test@example.com',\n        password: 'password123',\n        phone: '123-456-7890',\n        role: 'customer'\n      });\n      console.log('Test user created or already exists');\n    } catch (error) {\n      // If error code is 400 and message contains \"already exists\", the user already exists\n      if (error.response?.status === 400 && error.response?.data?.message?.includes('already exists')) {\n        console.log('Test user already exists');\n      } else {\n        console.error('Error creating test user:', error.response?.data || error.message);\n      }\n    }\n  };\n\n  // Login\n  const login = async (email, password) => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      console.log(`Attempting login with ${email}`);\n      const response = await apiClient.post('/users/login', {\n        email,\n        password\n      });\n\n      const data = response.data;\n      console.log('Login response:', JSON.stringify(data));\n\n      if (data.success) {\n        // Ensure user object has the token\n        const userWithToken = {\n          ...data.user,\n          token: data.token || data.user.token\n        };\n        \n        console.log('Setting user info with token:', userWithToken.token);\n        setUserInfo(userWithToken);\n        setUserToken(userWithToken.token);\n\n        // Save user info and token to AsyncStorage\n        await AsyncStorage.setItem('userInfo', JSON.stringify(userWithToken));\n        await AsyncStorage.setItem('userToken', userWithToken.token);\n        \n        // Verify data was saved\n        const savedUserInfo = await AsyncStorage.getItem('userInfo');\n        const savedToken = await AsyncStorage.getItem('userToken');\n        console.log('Saved user info:', savedUserInfo ? 'Yes' : 'No');\n        console.log('Saved token:', savedToken ? 'Yes' : 'No');\n      }\n\n      setIsLoading(false);\n      return data;\n    } catch (error) {\n      console.error('Login error:', error.response?.data || error.message);\n      setIsLoading(false);\n      setError(\n        error.response?.data?.message || 'An error occurred during login'\n      );\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Login failed'\n      };\n    }\n  };\n\n  // Register\n  const register = async (userData) => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      console.log(`Registering user: ${userData.email}`);\n      const response = await apiClient.post('/users/register', userData);\n\n      const data = response.data;\n      console.log('Register response:', data);\n\n      if (data.success) {\n        setUserInfo(data.user);\n        setUserToken(data.user.token);\n\n        // Save user info and token to AsyncStorage\n        await AsyncStorage.setItem('userInfo', JSON.stringify(data.user));\n        await AsyncStorage.setItem('userToken', data.user.token);\n      }\n\n      setIsLoading(false);\n      return data;\n    } catch (error) {\n      console.error('Registration error:', error.response?.data || error.message);\n      setIsLoading(false);\n      setError(\n        error.response?.data?.message || 'An error occurred during registration'\n      );\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Registration failed'\n      };\n    }\n  };\n\n  // Logout\n  const logout = async () => {\n    try {\n      console.log('=== LOGOUT STARTED ===');\n      setIsLoading(true);\n      \n      // First clear AsyncStorage completely\n      const keys = ['userInfo', 'userToken'];\n      console.log('Clearing AsyncStorage keys:', keys);\n      \n      // Clear AsyncStorage with multiple approaches for redundancy\n      for (const key of keys) {\n        await AsyncStorage.removeItem(key);\n        console.log(`Removed key: ${key}`);\n      }\n      \n      // Double-check the keys are gone\n      const checkUserInfo = await AsyncStorage.getItem('userInfo');\n      const checkUserToken = await AsyncStorage.getItem('userToken');\n      \n      console.log('After removal - userInfo exists:', !!checkUserInfo);\n      console.log('After removal - userToken exists:', !!checkUserToken);\n      \n      // Now clear the state\n      console.log('Clearing React state...');\n      setUserToken(null);\n      setUserInfo(null);\n      \n      // Small delay to ensure state updates\n      await new Promise(resolve => setTimeout(resolve, 800));\n      \n      console.log('=== LOGOUT COMPLETED ===');\n      setIsLoading(false);\n      \n      return { success: true, message: 'Logout successful' };\n    } catch (error) {\n      console.error('Logout error:', error);\n      setIsLoading(false);\n      \n      // Even if there's an error, still clear the state as a fallback\n      setUserToken(null);\n      setUserInfo(null);\n      \n      return { success: false, message: 'Error during logout, but state was cleared' };\n    }\n  };\n\n  // Update profile\n  const updateProfile = async (userData) => {\n    setIsLoading(true);\n    setError(null);\n\n    try {\n      const response = await apiClient.put(\n        '/users/profile',\n        userData\n      );\n\n      const data = response.data;\n\n      if (data.success) {\n        setUserInfo(data.user);\n\n        // Update user info in AsyncStorage\n        await AsyncStorage.setItem('userInfo', JSON.stringify(data.user));\n      }\n\n      setIsLoading(false);\n      return data;\n    } catch (error) {\n      console.error('Profile update error:', error.response?.data || error.message);\n      setIsLoading(false);\n      setError(\n        error.response?.data?.message || 'An error occurred while updating profile'\n      );\n      return {\n        success: false,\n        message: error.response?.data?.message || 'Profile update failed'\n      };\n    }\n  };\n\n  // Check if user is logged in on app load\n  const isLoggedIn = async () => {\n    try {\n      setIsLoading(true);\n      let userInfo = await AsyncStorage.getItem('userInfo');\n      let userToken = await AsyncStorage.getItem('userToken');\n      \n      userInfo = JSON.parse(userInfo);\n      \n      if (userInfo) {\n        console.log('User is logged in:', userInfo.name);\n        setUserToken(userToken);\n        setUserInfo(userInfo);\n      } else {\n        console.log('No user logged in');\n      }\n      \n      setIsLoading(false);\n    } catch (error) {\n      console.log('isLogged in error:', error);\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    isLoggedIn();\n    // Create test account for demo purposes\n    createTestUser();\n  }, []);\n\n  return (\n    <AuthContext.Provider\n      value={{\n        isLoading,\n        userToken,\n        userInfo,\n        error,\n        login,\n        register,\n        logout,\n        updateProfile,\n        createTestUser\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}